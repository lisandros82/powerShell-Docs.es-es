---
title: Errores de terminación | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: b804e738-aefa-41bb-9649-f9ed897fd96c
caps.latest.revision: 8
ms.openlocfilehash: d1967fe7996f75ec5229920f7ec49aa5ff6bdbfd
ms.sourcegitcommit: debd2b38fb8070a7357bf1a4bf9cc736f3702f31
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/05/2019
ms.locfileid: "72369334"
---
# <a name="terminating-errors"></a><span data-ttu-id="aab8f-102">Errores de terminación</span><span class="sxs-lookup"><span data-stu-id="aab8f-102">Terminating Errors</span></span>

<span data-ttu-id="aab8f-103">En este tema se describe el método utilizado para notificar los errores de terminación.</span><span class="sxs-lookup"><span data-stu-id="aab8f-103">This topic discusses the method used to report terminating errors.</span></span> <span data-ttu-id="aab8f-104">También se explica cómo llamar al método desde dentro del cmdlet y se describen las excepciones que puede devolver el tiempo de ejecución de Windows PowerShell cuando se llama al método.</span><span class="sxs-lookup"><span data-stu-id="aab8f-104">It also discusses how to call the method from within the cmdlet, and it discusses the exceptions that can be returned by the Windows PowerShell runtime when the method is called.</span></span>

<span data-ttu-id="aab8f-105">Cuando se produce un error de terminación, el cmdlet debe notificar el error llamando al método [System. Management. Automation. cmdlet. Throwterminatingerror \*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) .</span><span class="sxs-lookup"><span data-stu-id="aab8f-105">When a terminating error occurs, the cmdlet should report the error by calling the [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="aab8f-106">Este método permite que el cmdlet envíe un registro de error que describe la condición que causó el error de terminación.</span><span class="sxs-lookup"><span data-stu-id="aab8f-106">This method allows the cmdlet to send an error record that describes the condition that caused the terminating error.</span></span> <span data-ttu-id="aab8f-107">Para obtener más información sobre los registros de errores, consulte [registros de errores de Windows PowerShell](./windows-powershell-error-records.md).</span><span class="sxs-lookup"><span data-stu-id="aab8f-107">For more information about error records, see [Windows PowerShell Error Records](./windows-powershell-error-records.md).</span></span>

<span data-ttu-id="aab8f-108">Cuando se llama al método [System. Management. Automation. cmdlet. Throwterminatingerror \*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) , el tiempo de ejecución de Windows PowerShell detiene permanentemente la ejecución de la canalización y produce una excepción [System. Management. Automation. Pipelinestoppedexception](/dotnet/api/System.Management.Automation.PipelineStoppedException) .</span><span class="sxs-lookup"><span data-stu-id="aab8f-108">When the [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method is called, the  Windows PowerShell runtime permanently stops the execution of the pipeline and throws a [System.Management.Automation.Pipelinestoppedexception](/dotnet/api/System.Management.Automation.PipelineStoppedException) exception.</span></span> <span data-ttu-id="aab8f-109">Los intentos subsiguientes de llamar a [System. Management. Automation. cmdlet. writeObject](/dotnet/api/System.Management.Automation.Cmdlet.WriteObject), [System. Management. Automation. cmdlet. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError)o a otras API hacen que esas llamadas produzcan una excepción [System. Management. Automation. Pipelinestoppedexception](/dotnet/api/System.Management.Automation.PipelineStoppedException) .</span><span class="sxs-lookup"><span data-stu-id="aab8f-109">Any subsequent attempts to call [System.Management.Automation.Cmdlet.WriteObject](/dotnet/api/System.Management.Automation.Cmdlet.WriteObject), [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError), or several other APIs causes those calls to throw a [System.Management.Automation.Pipelinestoppedexception](/dotnet/api/System.Management.Automation.PipelineStoppedException) exception.</span></span>

<span data-ttu-id="aab8f-110">La excepción [System. Management. Automation. Pipelinestoppedexception](/dotnet/api/System.Management.Automation.PipelineStoppedException) también puede producirse si otro cmdlet de la canalización informa de un error de terminación, si el usuario ha solicitado detener la canalización, o si la canalización se ha detenido antes de la finalización por cualquier motivo.</span><span class="sxs-lookup"><span data-stu-id="aab8f-110">The [System.Management.Automation.Pipelinestoppedexception](/dotnet/api/System.Management.Automation.PipelineStoppedException) exception can also occur if another cmdlet in the pipeline reports a terminating error, if the user has asked to stop the pipeline, or if the pipeline has been halted before completion for any reason.</span></span> <span data-ttu-id="aab8f-111">No es necesario que el cmdlet detecte la excepción [System. Management. Automation. Pipelinestoppedexception](/dotnet/api/System.Management.Automation.PipelineStoppedException) a menos que deba limpiar los recursos abiertos o su estado interno.</span><span class="sxs-lookup"><span data-stu-id="aab8f-111">The cmdlet does not need to catch the [System.Management.Automation.Pipelinestoppedexception](/dotnet/api/System.Management.Automation.PipelineStoppedException) exception unless it must clean up open resources or its internal state.</span></span>

<span data-ttu-id="aab8f-112">Los cmdlets pueden escribir cualquier número de objetos de salida o errores de no terminación antes de notificar un error de terminación.</span><span class="sxs-lookup"><span data-stu-id="aab8f-112">Cmdlets can write any number of output objects or non-terminating errors before reporting a terminating error.</span></span> <span data-ttu-id="aab8f-113">Sin embargo, el error de terminación detiene la canalización de forma permanente y no se puede informar de los errores de salida, de terminación o de no terminación.</span><span class="sxs-lookup"><span data-stu-id="aab8f-113">However, the terminating error permanently stops the pipeline, and no further output, terminating errors, or non-terminating errors can be reported.</span></span>

<span data-ttu-id="aab8f-114">Los cmdlets pueden llamar a [System. Management. Automation. cmdlet. Throwterminatingerror \*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) solo desde el subproceso que llamó al método de procesamiento de entrada [System. Management. Automation. cmdlet. BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing), [System. Management. Automation. cmdlet. ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord)o [System. Management. Automation. cmdlet. EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) .</span><span class="sxs-lookup"><span data-stu-id="aab8f-114">Cmdlets can call [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) only from the thread that called the [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing), [System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord), or [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) input processing method.</span></span> <span data-ttu-id="aab8f-115">No intente llamar a [System. Management. Automation. cmdlet. Throwterminatingerror \*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) o [System. Management. Automation. cmdlet. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) desde otro subproceso.</span><span class="sxs-lookup"><span data-stu-id="aab8f-115">Do not attempt to call [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) or [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) from another thread.</span></span> <span data-ttu-id="aab8f-116">En su lugar, los errores se deben comunicar de vuelta al subproceso principal.</span><span class="sxs-lookup"><span data-stu-id="aab8f-116">Instead, errors must be communicated back to the main thread.</span></span>

<span data-ttu-id="aab8f-117">Un cmdlet puede producir una excepción en su implementación del método [System. Management. Automation. cmdlet. BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing), [System. Management. Automation. cmdlet. ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord)o [System. Management. Automation. cmdlet. EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) .</span><span class="sxs-lookup"><span data-stu-id="aab8f-117">It is possible for a cmdlet to throw an exception in its implementation of the [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing), [System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord), or [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) method.</span></span> <span data-ttu-id="aab8f-118">Cualquier excepción que se produzca desde estos métodos (salvo algunas condiciones de error graves que detienen el host de Windows PowerShell) se interpreta como un error de terminación que detiene la canalización, pero no Windows PowerShell en su totalidad.</span><span class="sxs-lookup"><span data-stu-id="aab8f-118">Any exception thrown from these methods (except for a few severe error conditions that stop the Windows PowerShell host) is interpreted as a terminating error which stops the pipeline, but not Windows PowerShell as a whole.</span></span> <span data-ttu-id="aab8f-119">(Esto solo se aplica al subproceso principal del cmdlet.</span><span class="sxs-lookup"><span data-stu-id="aab8f-119">(This applies only to the main cmdlet thread.</span></span> <span data-ttu-id="aab8f-120">Excepciones no detectadas en subprocesos generados por el cmdlet, en general, detenga el host de Windows PowerShell). Se recomienda usar [System. Management. Automation. cmdlet. Throwterminatingerror \*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) en lugar de producir una excepción, ya que el registro de errores proporciona información adicional sobre la condición de error, que es útil para el usuario final.</span><span class="sxs-lookup"><span data-stu-id="aab8f-120">Uncaught exceptions in threads spawned by the cmdlet, in general, halt the Windows PowerShell host.) We recommend that you use [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) rather than throwing an exception because the error record provides additional information about the error condition, which is useful to the end-user.</span></span> <span data-ttu-id="aab8f-121">Los cmdlets deben cumplir las instrucciones de código administrado para detectar y controlar todas las excepciones (`catch (Exception e)`).</span><span class="sxs-lookup"><span data-stu-id="aab8f-121">Cmdlets should honor the managed code guideline against catching and handling all exceptions (`catch (Exception e)`).</span></span> <span data-ttu-id="aab8f-122">Convierta solo las excepciones de los tipos conocidos y esperados en registros de error.</span><span class="sxs-lookup"><span data-stu-id="aab8f-122">Convert only exceptions of known and expected types into error records.</span></span>

## <a name="see-also"></a><span data-ttu-id="aab8f-123">Véase también</span><span class="sxs-lookup"><span data-stu-id="aab8f-123">See Also</span></span>

[<span data-ttu-id="aab8f-124">System. Management. Automation. cmdlet. BeginProcessing</span><span class="sxs-lookup"><span data-stu-id="aab8f-124">System.Management.Automation.Cmdlet.BeginProcessing</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing)

[<span data-ttu-id="aab8f-125">System. Management. Automation. cmdlet. EndProcessing</span><span class="sxs-lookup"><span data-stu-id="aab8f-125">System.Management.Automation.Cmdlet.EndProcessing</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing)

[<span data-ttu-id="aab8f-126">System. Management. Automation. cmdlet. ProcessRecord</span><span class="sxs-lookup"><span data-stu-id="aab8f-126">System.Management.Automation.Cmdlet.ProcessRecord</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord)

[<span data-ttu-id="aab8f-127">System. Management. Automation. Pipelinestoppedexception</span><span class="sxs-lookup"><span data-stu-id="aab8f-127">System.Management.Automation.Pipelinestoppedexception</span></span>](/dotnet/api/System.Management.Automation.PipelineStoppedException)

[<span data-ttu-id="aab8f-128">System. Management. Automation. cmdlet. Throwterminatingerror \*</span><span class="sxs-lookup"><span data-stu-id="aab8f-128">System.Management.Automation.Cmdlet.Throwterminatingerror\*</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError)

[<span data-ttu-id="aab8f-129">System. Management. Automation. cmdlet. WriteError</span><span class="sxs-lookup"><span data-stu-id="aab8f-129">System.Management.Automation.Cmdlet.WriteError</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.WriteError)

[<span data-ttu-id="aab8f-130">Registros de errores de Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="aab8f-130">Windows PowerShell Error Records</span></span>](./windows-powershell-error-records.md)

[<span data-ttu-id="aab8f-131">Escribir un cmdlet de Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="aab8f-131">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
