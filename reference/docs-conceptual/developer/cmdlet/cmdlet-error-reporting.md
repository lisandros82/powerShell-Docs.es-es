---
title: Informes de errores de cmdlet | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- error records [PowerShell], terminating
- non-terminating errors [PowerShell]
- error records [PowerShell]
- terminating errors [PowerShell]
- error records [PowerShell], non-terminating
ms.assetid: 0b014035-52ea-44cb-ab38-bbe463c5465a
caps.latest.revision: 8
ms.openlocfilehash: 5dfec318438ca139518c596011ac5e56445738ea
ms.sourcegitcommit: debd2b38fb8070a7357bf1a4bf9cc736f3702f31
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/05/2019
ms.locfileid: "72365924"
---
# <a name="cmdlet-error-reporting"></a><span data-ttu-id="ca437-102">Informes de errores de cmdlet</span><span class="sxs-lookup"><span data-stu-id="ca437-102">Cmdlet error reporting</span></span>

<span data-ttu-id="ca437-103">Los cmdlets deben notificar los errores de manera diferente, en función de si los errores están finalizando o no los errores.</span><span class="sxs-lookup"><span data-stu-id="ca437-103">Cmdlets should report errors differently depending on whether the errors are terminating errors or nonterminating errors.</span></span> <span data-ttu-id="ca437-104">Los errores de terminación son errores que hacen que la canalización finalice inmediatamente, o errores que se producen cuando no hay ningún motivo para continuar el procesamiento.</span><span class="sxs-lookup"><span data-stu-id="ca437-104">Terminating errors are errors that cause the pipeline to be terminated immediately, or errors that occur when there's no reason to continue processing.</span></span> <span data-ttu-id="ca437-105">Los errores de no terminación son los que notifican una condición de error actual, pero el cmdlet puede continuar procesando los objetos de entrada.</span><span class="sxs-lookup"><span data-stu-id="ca437-105">Nonterminating errors are those errors that report a current error condition, but the cmdlet can continue to process input objects.</span></span> <span data-ttu-id="ca437-106">Con errores de no terminación, normalmente el usuario recibe una notificación del problema, pero el cmdlet continúa procesando el siguiente objeto de entrada.</span><span class="sxs-lookup"><span data-stu-id="ca437-106">With nonterminating errors, the user is typically notified of the problem, but the cmdlet continues to process the next input object.</span></span>

## <a name="terminating-and-nonterminating-errors"></a><span data-ttu-id="ca437-107">Errores de terminación y de no terminación</span><span class="sxs-lookup"><span data-stu-id="ca437-107">Terminating and nonterminating errors</span></span>

<span data-ttu-id="ca437-108">Se pueden usar las siguientes directrices para determinar si una condición de error es un error de terminación o un error de no terminación.</span><span class="sxs-lookup"><span data-stu-id="ca437-108">The following guidelines can be used to determine if an error condition is a terminating error or a nonterminating error.</span></span>

- <span data-ttu-id="ca437-109">¿La condición de error impide que el cmdlet procese correctamente cualquier objeto de entrada adicional?</span><span class="sxs-lookup"><span data-stu-id="ca437-109">Does the error condition prevent your cmdlet from successfully processing any further input objects?</span></span> <span data-ttu-id="ca437-110">Si es así, se trata de un error de terminación.</span><span class="sxs-lookup"><span data-stu-id="ca437-110">If so, this is a terminating error.</span></span>

- <span data-ttu-id="ca437-111">¿Es la condición de error relacionada con un objeto de entrada concreto o con un subconjunto de objetos de entrada?</span><span class="sxs-lookup"><span data-stu-id="ca437-111">Is the error condition related to a specific input object or a subset of input objects?</span></span> <span data-ttu-id="ca437-112">Si es así, se trata de un error de no terminación.</span><span class="sxs-lookup"><span data-stu-id="ca437-112">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="ca437-113">¿El cmdlet acepta varios objetos de entrada, de modo que el procesamiento puede realizarse correctamente en otro objeto de entrada?</span><span class="sxs-lookup"><span data-stu-id="ca437-113">Does the cmdlet accept multiple input objects, such that processing may succeed on another input object?</span></span> <span data-ttu-id="ca437-114">Si es así, se trata de un error de no terminación.</span><span class="sxs-lookup"><span data-stu-id="ca437-114">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="ca437-115">Los cmdlets que pueden aceptar varios objetos de entrada deben decidir entre los errores de terminación y de no terminación, incluso cuando una situación determinada se aplica solo a un único objeto de entrada.</span><span class="sxs-lookup"><span data-stu-id="ca437-115">Cmdlets that can accept multiple input objects should decide between what are terminating and nonterminating errors, even when a particular situation applies to only a single input object.</span></span>

- <span data-ttu-id="ca437-116">Los cmdlets pueden recibir cualquier número de objetos de entrada y enviar cualquier número de objetos correctos o de error antes de producir una excepción de terminación.</span><span class="sxs-lookup"><span data-stu-id="ca437-116">Cmdlets can receive any number of input objects and send any number of success or error objects before throwing a terminating exception.</span></span> <span data-ttu-id="ca437-117">No hay ninguna relación entre el número de objetos de entrada recibidos y el número de objetos correctos y de error enviados.</span><span class="sxs-lookup"><span data-stu-id="ca437-117">There's no relationship between the number of input objects received and the number of success and error objects sent.</span></span>

- <span data-ttu-id="ca437-118">Los cmdlets que pueden aceptar solo 0-1 objetos de entrada y generar solo 0-1 objetos de salida deben tratar los errores como errores de terminación y generar excepciones de terminación.</span><span class="sxs-lookup"><span data-stu-id="ca437-118">Cmdlets that can accept only 0-1 input objects and generate only 0-1 output objects should treat errors as terminating errors and generate terminating exceptions.</span></span>

## <a name="reporting-nonterminating-errors"></a><span data-ttu-id="ca437-119">Informes de errores de no terminación</span><span class="sxs-lookup"><span data-stu-id="ca437-119">Reporting nonterminating errors</span></span>

<span data-ttu-id="ca437-120">Los informes de un error de no terminación siempre deben realizarse dentro de la implementación del cmdlet del método [System. Management. Automation. cmdlet. BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) , el método [System. Management. Automation. cmdlet. ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) o el método [System. Management. Automation. cmdlet. EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) .</span><span class="sxs-lookup"><span data-stu-id="ca437-120">The reporting of a nonterminating error should always be done within the cmdlet's implementation of the [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) method, the [System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) method, or the [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) method.</span></span> <span data-ttu-id="ca437-121">Estos tipos de errores se indican mediante una llamada al método [System. Management. Automation. cmdlet. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) que, a su vez, envía un registro de error al flujo de error.</span><span class="sxs-lookup"><span data-stu-id="ca437-121">These types of errors are reported by calling the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) method that in turn sends an error record to the error stream.</span></span>

## <a name="reporting-terminating-errors"></a><span data-ttu-id="ca437-122">Notificar errores de terminación</span><span class="sxs-lookup"><span data-stu-id="ca437-122">Reporting terminating errors</span></span>

<span data-ttu-id="ca437-123">Los errores de terminación se registran iniciando excepciones o llamando al método [System. Management. Automation. cmdlet. ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) .</span><span class="sxs-lookup"><span data-stu-id="ca437-123">Terminating errors are reported by throwing exceptions or by calling the [System.Management.Automation.Cmdlet.ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="ca437-124">Tenga en cuenta que los cmdlets también pueden detectar y volver a producir excepciones como **OutOfMemory**; sin embargo, no es necesario que vuelvan a producir excepciones ya que el tiempo de ejecución de PowerShell las detectará también.</span><span class="sxs-lookup"><span data-stu-id="ca437-124">Be aware that cmdlets can also catch and rethrow exceptions such as **OutOfMemory**, however, they aren't required to rethrow exceptions as the PowerShell runtime will catch them as well.</span></span>

<span data-ttu-id="ca437-125">También puede definir sus propias excepciones para los problemas específicos de su situación o agregar información adicional a una excepción existente mediante su registro de errores.</span><span class="sxs-lookup"><span data-stu-id="ca437-125">You can also define your own exceptions for issues specific to your situation, or add additional information to an existing exception using its error record.</span></span>

## <a name="error-records"></a><span data-ttu-id="ca437-126">Registros de error</span><span class="sxs-lookup"><span data-stu-id="ca437-126">Error records</span></span>

<span data-ttu-id="ca437-127">PowerShell describe una condición de error de no terminación con objetos [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="ca437-127">PowerShell describes a nonterminating error condition with [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) objects.</span></span> <span data-ttu-id="ca437-128">Cada objeto proporciona información de categoría de error, un objeto de destino opcional y detalles sobre la condición de error.</span><span class="sxs-lookup"><span data-stu-id="ca437-128">Each object provides error category information, an optional target object, and details about the error condition.</span></span>

### <a name="error-identifiers"></a><span data-ttu-id="ca437-129">Identificadores de error</span><span class="sxs-lookup"><span data-stu-id="ca437-129">Error identifiers</span></span>

<span data-ttu-id="ca437-130">El identificador de error es una cadena simple que identifica la condición de error dentro del cmdlet.</span><span class="sxs-lookup"><span data-stu-id="ca437-130">The error identifier is a simple string that identifies the error condition within the cmdlet.</span></span>
<span data-ttu-id="ca437-131">PowerShell combina este identificador con un identificador de cmdlet para crear un identificador de error completo que se puede usar más adelante al filtrar flujos de error o errores de registro, al responder a errores específicos o a otras actividades específicas del usuario.</span><span class="sxs-lookup"><span data-stu-id="ca437-131">PowerShell combines this identifier with a cmdlet identifier to create a fully qualified error identifier that can be used later when filtering error streams or logging errors, when responding to specific errors, or with other user-specific activities.</span></span>

<span data-ttu-id="ca437-132">Se deben seguir las siguientes directrices al especificar los identificadores de error:</span><span class="sxs-lookup"><span data-stu-id="ca437-132">The following guidelines should be followed when specifying error identifiers:</span></span>

- <span data-ttu-id="ca437-133">Asignar identificadores de error diferentes y muy específicos a diferentes rutas de código.</span><span class="sxs-lookup"><span data-stu-id="ca437-133">Assign different, highly specific, error identifiers to different code paths.</span></span> <span data-ttu-id="ca437-134">Cada ruta de acceso del código que llama a [System. Management. Automation. cmdlet. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) o [System. Management. Automation. cmdlet. ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) debe tener su propio identificador de error.</span><span class="sxs-lookup"><span data-stu-id="ca437-134">Each code path that calls [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) should have its own error identifier.</span></span>

- <span data-ttu-id="ca437-135">Los identificadores de error deben ser únicos en los tipos de excepción de Common Language Runtime (CLR) para los errores de terminación y de no terminación.</span><span class="sxs-lookup"><span data-stu-id="ca437-135">Error identifiers should be unique to Common Language Runtime (CLR) exception types for both terminating and nonterminating errors.</span></span>

- <span data-ttu-id="ca437-136">No cambie la semántica de un identificador de error entre las versiones del cmdlet o del proveedor de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ca437-136">Don't change the semantics of an error identifier between versions of your cmdlet or PowerShell provider.</span></span> <span data-ttu-id="ca437-137">Después de establecer la semántica de un identificador de error, debe permanecer constante a lo largo del ciclo de vida del cmdlet.</span><span class="sxs-lookup"><span data-stu-id="ca437-137">After the semantics of an error identifier is established, it should remain constant throughout the lifecycle of your cmdlet.</span></span>

- <span data-ttu-id="ca437-138">Para terminar los errores, utilice un identificador de error único para un tipo de excepción de CLR determinado.</span><span class="sxs-lookup"><span data-stu-id="ca437-138">For terminating errors, use a unique error identifier for a particular CLR exception type.</span></span> <span data-ttu-id="ca437-139">Si el tipo de excepción cambia, use un nuevo identificador de error.</span><span class="sxs-lookup"><span data-stu-id="ca437-139">If the exception type changes, use a new error identifier.</span></span>

- <span data-ttu-id="ca437-140">En el caso de los errores de no terminación, use un identificador de error específico para un objeto de entrada concreto.</span><span class="sxs-lookup"><span data-stu-id="ca437-140">For nonterminating errors, use a specific error identifier for a specific input object.</span></span>

- <span data-ttu-id="ca437-141">Elija texto para el identificador que tersely corresponda con el error que se va a informar.</span><span class="sxs-lookup"><span data-stu-id="ca437-141">Choose text for the identifier that tersely corresponds to the error being reported.</span></span> <span data-ttu-id="ca437-142">No use espacios en blanco ni signos de puntuación.</span><span class="sxs-lookup"><span data-stu-id="ca437-142">Don't use white space or punctuation.</span></span>

- <span data-ttu-id="ca437-143">No genere identificadores de error que no se reproducirán.</span><span class="sxs-lookup"><span data-stu-id="ca437-143">Don't generate error identifiers that aren't reproducible.</span></span> <span data-ttu-id="ca437-144">Por ejemplo, no genere identificadores que incluyan un identificador de proceso.</span><span class="sxs-lookup"><span data-stu-id="ca437-144">For example, don't generate identifiers that include a process identifier.</span></span> <span data-ttu-id="ca437-145">Los identificadores de error solo son útiles cuando se corresponden con los identificadores que ven otros usuarios que experimentan el mismo problema.</span><span class="sxs-lookup"><span data-stu-id="ca437-145">Error identifiers are useful only when they correspond to identifiers that are seen by other users who are experiencing the same problem.</span></span>

### <a name="error-categories"></a><span data-ttu-id="ca437-146">Categorías de error</span><span class="sxs-lookup"><span data-stu-id="ca437-146">Error categories</span></span>

<span data-ttu-id="ca437-147">Las categorías de error se usan para agrupar los errores del usuario.</span><span class="sxs-lookup"><span data-stu-id="ca437-147">Error categories are used to group errors for the user.</span></span> <span data-ttu-id="ca437-148">PowerShell define estas categorías y cmdlets, y los proveedores de PowerShell deben elegir entre ellos al generar el registro de errores.</span><span class="sxs-lookup"><span data-stu-id="ca437-148">PowerShell defines these categories and cmdlets and PowerShell providers must choose between them when generating the error record.</span></span>

<span data-ttu-id="ca437-149">Para obtener una descripción de las categorías de error que están disponibles, consulte la enumeración [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) .</span><span class="sxs-lookup"><span data-stu-id="ca437-149">For a description of the error categories that are available, see the [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="ca437-150">En general, debe evitar usar **NoError**, **UndefinedError**y **GenericError** siempre que sea posible.</span><span class="sxs-lookup"><span data-stu-id="ca437-150">In general, you should avoid using **NoError**, **UndefinedError**, and **GenericError** whenever possible.</span></span>

<span data-ttu-id="ca437-151">Los usuarios pueden ver los errores en función de la categoría cuando establecen `$ErrorView` en **CategoryView**.</span><span class="sxs-lookup"><span data-stu-id="ca437-151">Users can view errors based on category when they set `$ErrorView` to **CategoryView**.</span></span>

## <a name="see-also"></a><span data-ttu-id="ca437-152">Consulta también</span><span class="sxs-lookup"><span data-stu-id="ca437-152">See also</span></span>

[<span data-ttu-id="ca437-153">Introducción a los cmdlets</span><span class="sxs-lookup"><span data-stu-id="ca437-153">Cmdlet Overview</span></span>](./cmdlet-overview.md)

[<span data-ttu-id="ca437-154">Tipos de salida de cmdlet</span><span class="sxs-lookup"><span data-stu-id="ca437-154">Types of Cmdlet Output</span></span>](./types-of-cmdlet-output.md)

[<span data-ttu-id="ca437-155">Referencia de Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="ca437-155">Windows PowerShell Reference</span></span>](../windows-powershell-reference.md)
