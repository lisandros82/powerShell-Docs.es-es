---
ms.date: 08/23/2017
keywords: powershell, cmdlet
title: Instalación y uso de Windows PowerShell Web Access
ms.openlocfilehash: 5f6e94859c55bbd07f3f8a83bc4b9a83bc89d0fa
ms.sourcegitcommit: debd2b38fb8070a7357bf1a4bf9cc736f3702f31
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/05/2019
ms.locfileid: "71692251"
---
# <a name="install-and-use-windows-powershell-web-access"></a><span data-ttu-id="3d46a-103">Instalación y uso de Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="3d46a-103">Install and Use Windows PowerShell Web Access</span></span>

<span data-ttu-id="3d46a-104">Actualizado: 5 de noviembre de 2013 (editado: 23 de agosto de 2017)</span><span class="sxs-lookup"><span data-stu-id="3d46a-104">Updated: November 5, 2013 (Edited: August 23, 2017)</span></span>

<span data-ttu-id="3d46a-105">Se aplica a: Windows Server 2012 R2, Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="3d46a-105">Applies To: Windows Server 2012 R2, Windows Server 2012</span></span>

## <a name="introduction"></a><span data-ttu-id="3d46a-106">Introducción</span><span class="sxs-lookup"><span data-stu-id="3d46a-106">Introduction</span></span>

<span data-ttu-id="3d46a-107">Windows PowerShell Web Access, que se introdujo por primera vez en Windows Server 2012, actúa como puerta de enlace de Windows PowerShell y proporciona una consola de Windows PowerShell basada en web dirigida a un equipo remoto.</span><span class="sxs-lookup"><span data-stu-id="3d46a-107">Windows PowerShell Web Access, first introduced in Windows Server 2012, acts as a Windows PowerShell gateway, providing a web-based Windows PowerShell console that is targeted at a remote computer.</span></span> <span data-ttu-id="3d46a-108">Permite a los profesionales de TI ejecutar comandos y scripts de Windows PowerShell desde una consola de Windows PowerShell en un explorador web, sin que sea necesario contar con Windows PowerShell, software de administración remota o la instalación de un complemento de explorador en el dispositivo cliente.</span><span class="sxs-lookup"><span data-stu-id="3d46a-108">It enables IT Pros to run Windows PowerShell commands and scripts from a Windows PowerShell console in a web browser, with no Windows PowerShell, remote management software, or browser plug-in installation necessary on the client device.</span></span> <span data-ttu-id="3d46a-109">Lo único que se necesita para ejecutar la consola de Windows PowerShell basada en web es una puerta de enlace de Windows PowerShell Web Access correctamente configurada y un explorador en el dispositivo cliente que admita JavaScript y acepte cookies.</span><span class="sxs-lookup"><span data-stu-id="3d46a-109">All that is required to run the web-based Windows PowerShell console is a properly-configured Windows PowerShell Web Access gateway, and a client device browser that supports JavaScript and accepts cookies.</span></span>

<span data-ttu-id="3d46a-110">Entre los dispositivos cliente se incluyen equipos portátiles, equipos que no son de trabajo, equipos prestados, Tablet PC, quioscos multimedia web, equipos que no ejecutan un sistema operativo Windows y exploradores de teléfono móvil.</span><span class="sxs-lookup"><span data-stu-id="3d46a-110">Examples of client devices include laptops, non-work personal computers, borrowed computers, tablet computers, web kiosks, computers that are not running a Windows-based operating system, and cell phone browsers.</span></span> <span data-ttu-id="3d46a-111">Los profesionales de TI pueden llevar a cabo tareas críticas de administración en servidores remotos basados en Windows desde dispositivos que cuenten con acceso a una conexión de Internet y un explorador web.</span><span class="sxs-lookup"><span data-stu-id="3d46a-111">IT Pros can perform critical management tasks on remote Windows-based servers from devices that have access to an Internet connection and a web browser.</span></span>

<span data-ttu-id="3d46a-112">Después de instalar y configurar la puerta de enlace correctamente, los usuarios pueden obtener acceso a una consola de Windows PowerShell mediante un explorador web.</span><span class="sxs-lookup"><span data-stu-id="3d46a-112">After successful gateway setup and configuration, users can access a Windows PowerShell console by using a web browser.</span></span> <span data-ttu-id="3d46a-113">Al abrir el sitio web protegido de Windows PowerShell Web Access y, una vez que se hayan autenticado correctamente, los usuarios podrán ejecutar una consola de Windows PowerShell basada en web.</span><span class="sxs-lookup"><span data-stu-id="3d46a-113">When users open the secured Windows PowerShell Web Access website, they can run a web-based Windows PowerShell console after successful authentication.</span></span>

<span data-ttu-id="3d46a-114">El proceso de instalación y configuración de Windows PowerShell Web Access consta de tres pasos:</span><span class="sxs-lookup"><span data-stu-id="3d46a-114">Windows PowerShell Web Access setup and configuration is a three-step process:</span></span>

1. [<span data-ttu-id="3d46a-115">Instalar Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="3d46a-115">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access-using-powershell-cmdlets)
1. [<span data-ttu-id="3d46a-116">Configurar la puerta de enlace</span><span class="sxs-lookup"><span data-stu-id="3d46a-116">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="3d46a-117">Configurar una regla de autorización restrictiva</span><span class="sxs-lookup"><span data-stu-id="3d46a-117">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

<span data-ttu-id="3d46a-118">Antes de instalar y configurar Windows PowerShell Web Access, se recomienda leer toda la guía, que incluye instrucciones sobre cómo instalar, proteger y desinstalar Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-118">Before you install and configure Windows PowerShell Web Access, we recommend that you read this entire guide, which includes instructions about how to install, secure, and uninstall Windows PowerShell Web Access.</span></span> <span data-ttu-id="3d46a-119">En el tema [Uso de la consola de Windows PowerShell basada en web](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) se describe cómo los usuarios inician sesión en la consola basada en web y se explican las limitaciones y diferencias entre la consola de Windows PowerShell basada en web y la consola de **powershell.exe**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-119">The [Use the Web-based Windows PowerShell Console](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) topic describes how users sign in to the web-based console, and covers limitations and differences between the web-based Windows PowerShell console and the **powershell.exe** console.</span></span> <span data-ttu-id="3d46a-120">Los usuarios finales de la consola basada en web deben leer [Uso de la consola de Windows PowerShell basada en web](use-the-web-based-windows-powershell-console.md), pero no es necesario que lean el resto de esta guía.</span><span class="sxs-lookup"><span data-stu-id="3d46a-120">End users of the web-based console should read [Use the Web based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md), but do not need to read the rest of this guide.</span></span>

<span data-ttu-id="3d46a-121">En este tema no se proporciona una guía de operaciones exhaustiva de servidor web de IIS, sino solo los pasos necesarios para configurar la puerta de enlace de Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-121">This topic does not provide in-depth IIS Web Server operations guidance; only those steps required to configure the Windows PowerShell Web Access gateway are described in this topic.</span></span> <span data-ttu-id="3d46a-122">Para obtener más información sobre la configuración y protección de sitios web en IIS, vea los recursos de documentación de IIS en la sección Vea también.</span><span class="sxs-lookup"><span data-stu-id="3d46a-122">For more information about configuring and securing websites in IIS, see the IIS documentation resources in the See Also section.</span></span>

<span data-ttu-id="3d46a-123">En el siguiente diagrama se muestra cómo funciona Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-123">The following diagram shows how Windows PowerShell Web Access works.</span></span>

![Diagrama de Windows PowerShell Web Access](images/Windows-PowerShell-Web-Access-diagram.jpg)

## <a name="requirements-for-running-windows-powershell-web-access"></a><span data-ttu-id="3d46a-125">Requisitos para ejecutar Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="3d46a-125">Requirements for running Windows PowerShell Web Access</span></span>

<span data-ttu-id="3d46a-126">Windows PowerShell Web Access requiere que Servidor web (IIS), .NET Framework 4.5 y Windows PowerShell 3.0 o Windows PowerShell 4.0 se ejecuten en el servidor donde desea ejecutar la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="3d46a-126">Windows PowerShell Web Access requires Web Server (IIS), .NET Framework 4.5, and Windows PowerShell 3.0 or Windows PowerShell 4.0 to be running on the server on which you want to run the gateway.</span></span> <span data-ttu-id="3d46a-127">Puede instalar Windows PowerShell Web Access en un servidor que ejecuta Windows Server 2012 R2 o Windows Server 2012 mediante el uso del Asistente para agregar roles y características en el Administrador del servidor o de los cmdlets de implementación de Windows PowerShell para el Administrador del servidor.</span><span class="sxs-lookup"><span data-stu-id="3d46a-127">You can install Windows PowerShell Web Access on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either the Add Roles and Features Wizard in Server Manager, or Windows PowerShell deployment cmdlets for Server Manager.</span></span> <span data-ttu-id="3d46a-128">Al instalar Windows PowerShell Web Access mediante el Administrador del servidor o sus cmdlets de implementación, automáticamente se agregan los roles y las características necesarios como parte del proceso de instalación.</span><span class="sxs-lookup"><span data-stu-id="3d46a-128">When you install Windows PowerShell Web Access by using Server Manager or its deployment cmdlets, required roles and features are automatically added as part of the installation process.</span></span>

<span data-ttu-id="3d46a-129">Windows PowerShell Web Access permite a los usuarios remotos obtener acceso a los equipos de la organización mediante Windows PowerShell en un explorador web.</span><span class="sxs-lookup"><span data-stu-id="3d46a-129">Windows PowerShell Web Access allows remote users to access computers in your organization by using Windows PowerShell in a web browser.</span></span> <span data-ttu-id="3d46a-130">Si bien Windows PowerShell Web Access es una herramienta de administración eficaz y conveniente, el acceso web conlleva riesgos de seguridad, por lo que debe configurarse de la manera más segura posible.</span><span class="sxs-lookup"><span data-stu-id="3d46a-130">Although Windows PowerShell Web Access is a convenient and powerful management tool, the web-based access poses security risks, and should be configured as securely as possible.</span></span> <span data-ttu-id="3d46a-131">Se recomienda que los administradores que configuran la puerta de enlace de Windows PowerShell Web Access usen los niveles de seguridad disponibles, tanto las reglas de autorización basadas en cmdlets incluidas con Windows PowerShell Web Access como los niveles de seguridad disponibles en Servidor web (IIS) y en aplicaciones de terceros.</span><span class="sxs-lookup"><span data-stu-id="3d46a-131">We recommend that administrators who configure the Windows PowerShell Web Access gateway use available security layers, both the cmdlet-based authorization rules included with Windows PowerShell Web Access, and security layers that are available in Web Server (IIS) and third-party applications.</span></span> <span data-ttu-id="3d46a-132">En esta documentación se incluyen ejemplos que no son seguros, recomendados únicamente para entornos de prueba, así como ejemplos recomendados para implementaciones seguras.</span><span class="sxs-lookup"><span data-stu-id="3d46a-132">This documentation includes both unsecure examples that are only recommended for test environments, as well as examples that are recommended for secure deployments.</span></span>

## <a name="browser-and-client-device-support"></a><span data-ttu-id="3d46a-133">Compatibilidad con exploradores y dispositivos cliente</span><span class="sxs-lookup"><span data-stu-id="3d46a-133">Browser and client device support</span></span>

<span data-ttu-id="3d46a-134">Windows PowerShell Web Access admite los siguientes exploradores de Internet.</span><span class="sxs-lookup"><span data-stu-id="3d46a-134">Windows PowerShell Web Access supports the following Internet browsers.</span></span> <span data-ttu-id="3d46a-135">Aunque los exploradores móviles no se admiten oficialmente, muchos de ellos pueden ejecutar la consola de Windows PowerShell basada en web.</span><span class="sxs-lookup"><span data-stu-id="3d46a-135">Although mobile browsers are not officially supported, many may be able to run the web-based Windows PowerShell console.</span></span>
<span data-ttu-id="3d46a-136">También se espera que funcionen otros exploradores que aceptan cookies y ejecutan JavaScript y sitios web HTTPS, pero no se han probado de manera oficial.</span><span class="sxs-lookup"><span data-stu-id="3d46a-136">Other browsers that accept cookies, run JavaScript, and run HTTPS websites are expected to work, but are not officially tested.</span></span>

### <a name="supported-desktop-computer-browsers"></a><span data-ttu-id="3d46a-137">Exploradores de equipos de escritorio admitidos</span><span class="sxs-lookup"><span data-stu-id="3d46a-137">Supported desktop computer browsers</span></span>

- <span data-ttu-id="3d46a-138">Windows Internet Explorer para Microsoft Windows 8.0, 9.0, 10.0 y 11.0</span><span class="sxs-lookup"><span data-stu-id="3d46a-138">Windows Internet Explorer for Microsoft Windows 8.0, 9.0, 10.0, and 11.0</span></span>
- <span data-ttu-id="3d46a-139">Mozilla Firefox 10.0.2</span><span class="sxs-lookup"><span data-stu-id="3d46a-139">Mozilla Firefox 10.0.2</span></span>
- <span data-ttu-id="3d46a-140">Google Chrome 17.0.963.56m para Windows</span><span class="sxs-lookup"><span data-stu-id="3d46a-140">Google Chrome 17.0.963.56m for Windows</span></span>
- <span data-ttu-id="3d46a-141">Apple Safari 5.1.2 para Windows</span><span class="sxs-lookup"><span data-stu-id="3d46a-141">Apple Safari 5.1.2 for Windows</span></span>
- <span data-ttu-id="3d46a-142">Apple Safari 5.1.2 para Mac OS</span><span class="sxs-lookup"><span data-stu-id="3d46a-142">Apple Safari 5.1.2 for Mac OS</span></span>

### <a name="minimally-tested-mobile-devices-or-browsers"></a><span data-ttu-id="3d46a-143">Exploradores o dispositivos móviles mínimamente probados</span><span class="sxs-lookup"><span data-stu-id="3d46a-143">Minimally-tested mobile devices or browsers</span></span>

- <span data-ttu-id="3d46a-144">Windows Phone 7 y 7.5</span><span class="sxs-lookup"><span data-stu-id="3d46a-144">Windows Phone 7 and 7.5</span></span>
- <span data-ttu-id="3d46a-145">Google Android WebKit 3.1 Browser Android 2.2.1 (Kernel 2.6)</span><span class="sxs-lookup"><span data-stu-id="3d46a-145">Google Android WebKit 3.1 Browser Android 2.2.1 (Kernel 2.6)</span></span>
- <span data-ttu-id="3d46a-146">Apple Safari para sistema operativo iPhone 5.0.1</span><span class="sxs-lookup"><span data-stu-id="3d46a-146">Apple Safari for iPhone operating system 5.0.1</span></span>
- <span data-ttu-id="3d46a-147">Apple Safari para sistema operativo iPad 2 5.0.1</span><span class="sxs-lookup"><span data-stu-id="3d46a-147">Apple Safari for iPad 2 operating system 5.0.1</span></span>

### <a name="browser-requirements"></a><span data-ttu-id="3d46a-148">Requisitos de explorador</span><span class="sxs-lookup"><span data-stu-id="3d46a-148">Browser requirements</span></span>

<span data-ttu-id="3d46a-149">Para usar la consola de Windows PowerShell Web Access basada en web, los exploradores deben poder hacer lo siguiente.</span><span class="sxs-lookup"><span data-stu-id="3d46a-149">To use the Windows PowerShell Web Access web-based console, browsers must do the following.</span></span>

- <span data-ttu-id="3d46a-150">Permitir cookies del sitio web de la puerta de enlace de Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-150">Allow cookies from the Windows PowerShell Web Access gateway website.</span></span>
- <span data-ttu-id="3d46a-151">Abrir y leer páginas HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3d46a-151">Be able to open and read HTTPS pages.</span></span>
- <span data-ttu-id="3d46a-152">Abrir y ejecutar sitios web que usen JavaScript.</span><span class="sxs-lookup"><span data-stu-id="3d46a-152">Open and run websites that use JavaScript.</span></span>

## <a name="recommended-quick-deployment"></a><span data-ttu-id="3d46a-153">Implementación recomendada (rápida)</span><span class="sxs-lookup"><span data-stu-id="3d46a-153">Recommended quick deployment</span></span>

<span data-ttu-id="3d46a-154">Puede instalar la puerta de enlace de Windows PowerShell Web Access en un servidor que ejecuta Windows Server 2012 R2 o Windows Server 2012 mediante el uso de los cmdlets de Windows PowerShell o del Asistente para agregar roles y características que se abre desde el Administrador del servidor.</span><span class="sxs-lookup"><span data-stu-id="3d46a-154">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either Windows PowerShell cmdlets, or by using the Add Roles and Features Wizard that is opened from within Server Manager.</span></span> <span data-ttu-id="3d46a-155">Para la instalación y la configuración rápida, use cmdlets de Windows PowerShell, como se describe en esta sección.</span><span class="sxs-lookup"><span data-stu-id="3d46a-155">For quick installation and configuration, use Windows PowerShell cmdlets, as described in this section.</span></span>

1. [<span data-ttu-id="3d46a-156">Instalar Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="3d46a-156">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access-using-powershell-cmdlets)
1. [<span data-ttu-id="3d46a-157">Configurar la puerta de enlace</span><span class="sxs-lookup"><span data-stu-id="3d46a-157">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="3d46a-158">Configurar una regla de autorización restrictiva</span><span class="sxs-lookup"><span data-stu-id="3d46a-158">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

### <a name="install-windows-powershell-web-access-using-powershell-cmdlets"></a><span data-ttu-id="3d46a-159">Instalación de Windows PowerShell Web Access usando cmdlets de PowerShell</span><span class="sxs-lookup"><span data-stu-id="3d46a-159">Install Windows PowerShell Web Access using PowerShell cmdlets</span></span>

#### <a name="to-install-windows-powershell-web-access-by-using-windows-powershell-cmdlets"></a><span data-ttu-id="3d46a-160">Para instalar Windows PowerShell Web Access mediante cmdlets de Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="3d46a-160">To install Windows PowerShell Web Access by using Windows PowerShell cmdlets</span></span>

1. <span data-ttu-id="3d46a-161">Realice una de las siguientes acciones para abrir una sesión de Windows PowerShell con derechos de usuario elevados.</span><span class="sxs-lookup"><span data-stu-id="3d46a-161">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="3d46a-162">En el escritorio de Windows, haga clic con el botón derecho en **Windows PowerShell**, en la barra de tareas y, luego,en **Ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-162">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="3d46a-163">En la pantalla **Inicio** de Windows, haga clic con el botón derecho en **Windows PowerShell** y, luego, en **Ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-163">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="3d46a-164">En Windows PowerShell 3.0 y 4.0, no es necesario importar el módulo de cmdlets del Administrador del servidor en la sesión de Windows PowerShell antes de ejecutar los cmdlets que forman parte del módulo.</span><span class="sxs-lookup"><span data-stu-id="3d46a-164">In Windows PowerShell 3.0 and 4.0, there is no need to import the Server Manager cmdlet module into the Windows PowerShell session before running cmdlets that are part of the module.</span></span> <span data-ttu-id="3d46a-165">El módulo se importa automáticamente la primera vez que se ejecuta un cmdlet que es parte del módulo.</span><span class="sxs-lookup"><span data-stu-id="3d46a-165">A module is automatically imported the first time you run a cmdlet that is part of the module.</span></span>
   > <span data-ttu-id="3d46a-166">Asimismo, los cmdlets de Windows PowerShell no distinguen mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="3d46a-166">Also, Windows PowerShell cmdlets are not case-sensitive.</span></span>

1. <span data-ttu-id="3d46a-167">Escriba lo siguiente y después presione **Entrar**, donde *computer_name* representa un equipo remoto en el cual desea instalar Windows PowerShell Web Access, si procede.</span><span class="sxs-lookup"><span data-stu-id="3d46a-167">Type the following, and then press **Enter**, where *computer_name* represents a remote computer on which you want to install Windows PowerShell Web Access, if applicable.</span></span> <span data-ttu-id="3d46a-168">El parámetro `-Restart` reinicia automáticamente los servidores de destino si es necesario.</span><span class="sxs-lookup"><span data-stu-id="3d46a-168">The `-Restart` parameter automatically restarts destination servers if required.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -ComputerName <computer_name> -IncludeManagementTools -Restart`

   > [!NOTE]
   > <span data-ttu-id="3d46a-169">Al instalarse Windows PowerShell Web Access mediante el uso de los cmdlets de Windows PowerShell, no se agregan herramientas de administración de Servidor web (IIS) de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="3d46a-169">Installing Windows PowerShell Web Access by using Windows PowerShell cmdlets does not add Web Server (IIS) management tools by default.</span></span> <span data-ttu-id="3d46a-170">Si quiere instalar las herramientas de administración en el mismo servidor que el de la puerta de enlace de Windows PowerShell Web Access, agregue el parámetro `-IncludeManagementTools` al comando de instalación (como se indica en este paso).</span><span class="sxs-lookup"><span data-stu-id="3d46a-170">If you want to install the management tools on the same server as the Windows PowerShell Web Access gateway, add the `-IncludeManagementTools` parameter to the installation command (as provided in this step).</span></span> <span data-ttu-id="3d46a-171">Si administra el sitio web de Windows PowerShell Web Access desde un equipo remoto, instale el complemento Administrador de IIS mediante la instalación de las [Herramientas de administración remota del servidor para Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) o [Herramientas de administración remota del servidor para Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) en el equipo desde el cual desea administrar la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="3d46a-171">If you are managing the Windows PowerShell Web Access website from a remote computer, install the IIS Manager snap-in by installing [Remote Server Administration Tools for Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) or [Remote Server Administration Tools for Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) on the computer from which you want to manage the gateway.</span></span>

   <span data-ttu-id="3d46a-172">Para instalar roles y características en un VHD sin conexión, debe agregar los parámetros `-ComputerName` y `-VHD` .</span><span class="sxs-lookup"><span data-stu-id="3d46a-172">To install roles and features on an offline VHD, you must add both the `-ComputerName` parameter and the `-VHD` parameter.</span></span> <span data-ttu-id="3d46a-173">El parámetro `-ComputerName` contiene el nombre del servidor en el que se montará el VHD y el parámetro `-VHD` contiene la ruta de acceso al archivo VHD en el servidor especificado.</span><span class="sxs-lookup"><span data-stu-id="3d46a-173">The `-ComputerName` parameter contains the name of the server on which to mount the VHD, and the `-VHD` parameter contains the path to the VHD file on the specified server.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -VHD <path> -ComputerName <computer_name> -IncludeManagementTools -Restart`

1. <span data-ttu-id="3d46a-174">Una vez completada la instalación, compruebe que Windows PowerShell Web Access se haya instalado en los servidores de destino mediante la ejecución del cmdlet `Get-WindowsFeature` en un servidor de destino, en una consola de Windows PowerShell abierta con derechos de usuario elevados.</span><span class="sxs-lookup"><span data-stu-id="3d46a-174">When installation is complete, verify that Windows PowerShell Web Access was installed on destination servers by running the `Get-WindowsFeature` cmdlet on a destination server, in a Windows PowerShell console that has been opened with elevated user rights.</span></span> <span data-ttu-id="3d46a-175">Otro modo de comprobar que se haya instalado Windows PowerShell Web Access en la consola del Administrador del servidor consiste en seleccionar un servidor de destino en la página **Todos los servidores** y, a continuación, visualizar el icono **Roles y características** del servidor seleccionado.</span><span class="sxs-lookup"><span data-stu-id="3d46a-175">You can also verify that Windows PowerShell Web Access was installed in the Server Manager console, by selecting a destination server on the **All Servers** page, and then viewing the **Roles and Features** tile for the selected server.</span></span> <span data-ttu-id="3d46a-176">También puede ver el archivo Léame para Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-176">You can also view the readme file for Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="3d46a-177">Una vez instalado Windows PowerShell Web Access, se le pedirá que revise el archivo Léame, que contiene las instrucciones de configuración necesarias básicas para la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="3d46a-177">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="3d46a-178">Estas instrucciones de configuración también se encuentran en la sección siguiente, [Configurar la puerta de enlace](#configure-the-gateway).</span><span class="sxs-lookup"><span data-stu-id="3d46a-178">These setup instructions are also in the following section, [Configure the Gateway](#configure-the-gateway).</span></span> <span data-ttu-id="3d46a-179">La ruta de acceso al archivo Léame es `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-179">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="3d46a-180">Configurar la puerta de enlace</span><span class="sxs-lookup"><span data-stu-id="3d46a-180">Configure the Gateway</span></span>

<span data-ttu-id="3d46a-181">El cmdlet **Install-PswaWebApplication** es un método rápido para configurar Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-181">The **Install-PswaWebApplication** cmdlet is a quick way to get Windows PowerShell Web Access configured.</span></span> <span data-ttu-id="3d46a-182">Si bien puede agregar el parámetro `UseTestCertificate` al cmdlet `Install-PswaWebApplication` para instalar un certificado SSL autofirmado con fines de prueba, esto no es seguro. En un entorno de producción seguro, siempre use un certificado SSL válido firmado por una entidad de certificación (CA).</span><span class="sxs-lookup"><span data-stu-id="3d46a-182">Although you can add the `UseTestCertificate` parameter to the `Install-PswaWebApplication` cmdlet to install a self-signed SSL certificate for test purposes, this is not secure; for a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="3d46a-183">Los administradores pueden reemplazar el certificado de prueba por un certificado firmado de su elección mediante la consola del Administrador de IIS.</span><span class="sxs-lookup"><span data-stu-id="3d46a-183">Administrators can replace the test certificate with a signed certificate of their choice by using the IIS Manager console.</span></span>

<span data-ttu-id="3d46a-184">Puede completar la configuración de la aplicación web Windows PowerShell Web Access mediante la ejecución del cmdlet `Install-PswaWebApplication` o mediante los pasos de configuración basados en GUI del Administrador de IIS.</span><span class="sxs-lookup"><span data-stu-id="3d46a-184">You can complete Windows PowerShell Web Access web application configuration either by running the `Install-PswaWebApplication` cmdlet or by performing GUI-based configuration steps in IIS Manager.</span></span>
<span data-ttu-id="3d46a-185">De manera predeterminada, el cmdlet instala la aplicación web, **pswa** (y un grupo de aplicaciones, **pswa\_pool**), en el contenedor **Sitio web predeterminado**, como se muestra en el Administrador de IIS. Si lo desea, puede indicar al cmdlet que cambie el contenedor de sitio predeterminado de la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="3d46a-185">By default, the cmdlet installs the web application, **pswa** (and an application pool for it, **pswa_pool**), in the **Default Web Site** container, as shown in IIS Manager; if desired, you can instruct the cmdlet to change the default site container of the web application.</span></span> <span data-ttu-id="3d46a-186">El Administrador de IIS proporciona opciones de configuración que se encuentran disponibles para las aplicaciones web, como cambiar el número de puerto o el certificado de Capa de sockets seguros (SSL).</span><span class="sxs-lookup"><span data-stu-id="3d46a-186">IIS Manager offers configuration options that are available for web applications, such as changing the port number or the Secure Sockets Layer (SSL) certificate.</span></span>

> <span data-ttu-id="3d46a-187">**![Nota de seguridad](images/securitynote.jpeg) Nota de seguridad** Se recomienda encarecidamente que los administradores configuren la puerta de enlace para que use un certificado válido firmado por una CA.</span><span class="sxs-lookup"><span data-stu-id="3d46a-187">**![Security Note](images/securitynote.jpeg) Security Note** We strongly recommend that administrators configure the gateway to use a valid certificate that has been signed by a CA.</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-test-certificate-by-using-install-pswawebapplication"></a><span data-ttu-id="3d46a-188">Para configurar la puerta de enlace de Windows PowerShell Web Access con un certificado de prueba mediante Install-PswaWebApplication</span><span class="sxs-lookup"><span data-stu-id="3d46a-188">To configure the Windows PowerShell Web Access gateway with a test certificate by using Install-PswaWebApplication</span></span>

1. <span data-ttu-id="3d46a-189">Realice una de las siguientes acciones para abrir una sesión de Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3d46a-189">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="3d46a-190">En el escritorio de Windows, haga clic con el botón derecho en **Windows PowerShell** en la barra de tareas.</span><span class="sxs-lookup"><span data-stu-id="3d46a-190">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>
   - <span data-ttu-id="3d46a-191">En la pantalla **Inicio** de Windows, haga clic en **Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-191">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="3d46a-192">Escriba lo siguiente y, después, presione **Entrar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-192">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication -UseTestCertificate`

   > <span data-ttu-id="3d46a-193">**![Nota de seguridad](images/securitynote.jpeg) Nota de seguridad** El parámetro `UseTestCertificate` solo debe usarse en un entorno de prueba privado.</span><span class="sxs-lookup"><span data-stu-id="3d46a-193">**![Security Note](images/securitynote.jpeg) Security Note** The `UseTestCertificate` parameter should only be used in a private test environment.</span></span> <span data-ttu-id="3d46a-194">Para un entorno de producción seguro, se recomienda usar un certificado válido firmado por una CA.</span><span class="sxs-lookup"><span data-stu-id="3d46a-194">For a secure production environment, we recommend using a valid certificate that has been signed by a CA.</span></span>

   <span data-ttu-id="3d46a-195">La ejecución del cmdlet instala la aplicación web Windows PowerShell Web Access dentro del contenedor Sitio web predeterminado de IIS.</span><span class="sxs-lookup"><span data-stu-id="3d46a-195">Running the cmdlet installs the Windows PowerShell Web Access web application within the IIS Default Web Site container.</span></span> <span data-ttu-id="3d46a-196">El cmdlet crea la infraestructura necesaria para ejecutar Windows PowerShell Web Access en el sitio web predeterminado, `https://<server_name>/pswa`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-196">The cmdlet creates the infrastructure required to run Windows PowerShell Web Access on the default website, `https://<server_name>/pswa`.</span></span> <span data-ttu-id="3d46a-197">Para instalar la aplicación web en otro sitio web, proporcione el nombre del sitio web mediante la adición del parámetro `WebSiteName` .</span><span class="sxs-lookup"><span data-stu-id="3d46a-197">To install the web application in a different website, provide the website name by adding the `WebSiteName` parameter.</span></span> <span data-ttu-id="3d46a-198">Para cambiar el nombre de la aplicación web (el nombre predeterminado es `pswa`), agregue el parámetro `WebApplicationName` .</span><span class="sxs-lookup"><span data-stu-id="3d46a-198">To change the name of the web application (the default is `pswa`), add the `WebApplicationName` parameter.</span></span>

   <span data-ttu-id="3d46a-199">La siguiente configuración se establece mediante la ejecución del cmdlet.</span><span class="sxs-lookup"><span data-stu-id="3d46a-199">The following settings are configured by running the cmdlet.</span></span> <span data-ttu-id="3d46a-200">Puede cambiarla de forma manual en la consola del Administrador de IIS, si lo desea.</span><span class="sxs-lookup"><span data-stu-id="3d46a-200">You can change these manually in the IIS Manager console, if desired.</span></span>

   - <span data-ttu-id="3d46a-201">Path: /pswa</span><span class="sxs-lookup"><span data-stu-id="3d46a-201">Path: /pswa</span></span>
   - <span data-ttu-id="3d46a-202">ApplicationPool: pswa_pool</span><span class="sxs-lookup"><span data-stu-id="3d46a-202">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="3d46a-203">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="3d46a-203">EnabledProtocols: http</span></span>
   - <span data-ttu-id="3d46a-204">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span><span class="sxs-lookup"><span data-stu-id="3d46a-204">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span></span>

   <span data-ttu-id="3d46a-205">**Ejemplo**: `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span><span class="sxs-lookup"><span data-stu-id="3d46a-205">**Example**: `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span></span>

   <span data-ttu-id="3d46a-206">En este ejemplo, el sitio web resultante para Windows PowerShell Web Access es `https://<server_name>/myWebApp`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-206">In this example, the resulting website for Windows PowerShell Web Access is `https://<server_name>/myWebApp`.</span></span>

   > [!NOTE]
   > <span data-ttu-id="3d46a-207">No podrá iniciar sesión hasta que se haya concedido a los usuarios acceso al sitio web mediante la adición de reglas de autorización.</span><span class="sxs-lookup"><span data-stu-id="3d46a-207">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="3d46a-208">Para más información, vea [Configurar una regla de autorización restrictiva](#configure-a-restrictive-authorization-rule) y [Reglas de autorización y características de seguridad de Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="3d46a-208">For more information, see [configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule) and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-genuine-certificate-by-using-install-pswawebapplication-and-iis-manager"></a><span data-ttu-id="3d46a-209">Para configurar la puerta de enlace de Windows PowerShell Web Access con un certificado original mediante Install-PswaWebApplication y el Administrador de IIS</span><span class="sxs-lookup"><span data-stu-id="3d46a-209">To configure the Windows PowerShell Web Access gateway with a genuine certificate by using Install-PswaWebApplication and IIS Manager</span></span>

1. <span data-ttu-id="3d46a-210">Realice una de las siguientes acciones para abrir una sesión de Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3d46a-210">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="3d46a-211">En el escritorio de Windows, haga clic con el botón derecho en **Windows PowerShell** en la barra de tareas.</span><span class="sxs-lookup"><span data-stu-id="3d46a-211">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>
   - <span data-ttu-id="3d46a-212">En la pantalla **Inicio** de Windows, haga clic en **Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-212">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="3d46a-213">Escriba lo siguiente y, después, presione **Entrar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-213">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication`

   <span data-ttu-id="3d46a-214">La siguiente configuración de puerta de enlace se establece mediante la ejecución del cmdlet.</span><span class="sxs-lookup"><span data-stu-id="3d46a-214">The following gateway settings are configured by running the cmdlet.</span></span> <span data-ttu-id="3d46a-215">Puede cambiarla de forma manual en la consola del Administrador de IIS, si lo desea.</span><span class="sxs-lookup"><span data-stu-id="3d46a-215">You can change these manually in the IIS Manager console, if desired.</span></span> <span data-ttu-id="3d46a-216">También puede especificar valores para los parámetros `WebsiteName` y `WebApplicationName` del cmdlet `Install-PswaWebApplication` .</span><span class="sxs-lookup"><span data-stu-id="3d46a-216">You can also specify values for the `WebsiteName` and `WebApplicationName` parameters of the `Install-PswaWebApplication` cmdlet.</span></span>

   - <span data-ttu-id="3d46a-217">Path: /pswa</span><span class="sxs-lookup"><span data-stu-id="3d46a-217">Path: /pswa</span></span>
   - <span data-ttu-id="3d46a-218">ApplicationPool: pswa_pool</span><span class="sxs-lookup"><span data-stu-id="3d46a-218">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="3d46a-219">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="3d46a-219">EnabledProtocols: http</span></span>
   - <span data-ttu-id="3d46a-220">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span><span class="sxs-lookup"><span data-stu-id="3d46a-220">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span></span>

3. <span data-ttu-id="3d46a-221">Abra la consola del Administrador de IIS mediante uno de los siguientes procedimientos.</span><span class="sxs-lookup"><span data-stu-id="3d46a-221">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="3d46a-222">En el escritorio de Windows, haga clic en **Administrador del servidor** en la barra de tareas de Windows para iniciar el Administrador del servidor.</span><span class="sxs-lookup"><span data-stu-id="3d46a-222">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="3d46a-223">En el menú **Herramientas** del Administrador del servidor, haga clic en **Administrador de Internet Information Services (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="3d46a-223">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="3d46a-224">En la pantalla **Inicio** de Windows, haga clic en **Administrador del servidor**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-224">On the Windows **Start** screen, click **Server Manager**.</span></span>

4. <span data-ttu-id="3d46a-225">En el panel del árbol del Administrador de IIS, expanda el nodo del servidor en el que está instalado Windows PowerShell Web Access hasta que aparezca la carpeta **Sitios**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-225">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="3d46a-226">Expanda la carpeta **Sitios**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-226">Expand the **Sites** folder.</span></span>

5. <span data-ttu-id="3d46a-227">Seleccione el sitio web en el que ha instalado la aplicación web Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-227">Select the website in which you have installed the Windows PowerShell Web Access web application.</span></span>
   <span data-ttu-id="3d46a-228">En el panel **Acciones**, haga clic en **Enlaces**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-228">In the **Actions** pane, click **Bindings**.</span></span>

6. <span data-ttu-id="3d46a-229">En el cuadro de diálogo **Enlaces de sitios**, haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-229">In the **Site Binding** dialog box, click **Add**.</span></span>

7. <span data-ttu-id="3d46a-230">En el cuadro de diálogo **Agregar enlace de sitio**, en el campo **Tipo**, seleccione **https**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-230">In the **Add Site Binding** dialog box, in the **Type** field, select **https**.</span></span>

8. <span data-ttu-id="3d46a-231">En el campo **Certificado SSL**, seleccione su certificado firmado en el menú desplegable.</span><span class="sxs-lookup"><span data-stu-id="3d46a-231">In the **SSL certificate** field, select your signed certificate from the drop-down menu.</span></span>
   <span data-ttu-id="3d46a-232">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-232">Click **OK**.</span></span> <span data-ttu-id="3d46a-233">Consulte [Para configurar un certificado SSL en el Administrador de IIS](#to-configure-an-ssl-certificate-in-iis-manager) en este tema para obtener más información sobre cómo obtener un certificado.</span><span class="sxs-lookup"><span data-stu-id="3d46a-233">See [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic for more information about how to obtain a certificate.</span></span>

   <span data-ttu-id="3d46a-234">La aplicación web Windows PowerShell Web Access ya está configurada para usar su certificado SSL firmado.</span><span class="sxs-lookup"><span data-stu-id="3d46a-234">The Windows PowerShell Web Access web application is now configured to use your signed SSL certificate.</span></span>

   <span data-ttu-id="3d46a-235">Para obtener acceso a Windows PowerShell Web Access, abra `https://<server_name>/pswa` en una ventana del explorador.</span><span class="sxs-lookup"><span data-stu-id="3d46a-235">You can access Windows PowerShell Web Access by opening `https://<server_name>/pswa` in a browser window.</span></span>

   > [!NOTE]
   > <span data-ttu-id="3d46a-236">No podrá iniciar sesión hasta que se haya concedido a los usuarios acceso al sitio web mediante la adición de reglas de autorización.</span><span class="sxs-lookup"><span data-stu-id="3d46a-236">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="3d46a-237">Para más información, vea [Configurar una regla de autorización restrictiva](#configure-a-restrictive-authorization-rule) en este tema y [Reglas de autorización y características de seguridad de Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="3d46a-237">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configure-a-restrictive-authorization-rule"></a><span data-ttu-id="3d46a-238">Configuración de una regla de autorización restrictiva</span><span class="sxs-lookup"><span data-stu-id="3d46a-238">Configure a restrictive authorization rule</span></span>

<span data-ttu-id="3d46a-239">Una vez instalado Windows PowerShell Web Access y configurada la puerta de enlace, los usuarios podrán abrir la página de inicio de sesión en un explorador, pero no podrán iniciar sesión hasta que el administrador de Windows PowerShell Web Access les conceda acceso de manera explícita.</span><span class="sxs-lookup"><span data-stu-id="3d46a-239">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="3d46a-240">El control de acceso de Windows PowerShell Web Access se administra mediante el conjunto de cmdlets de Windows PowerShell descrito en la siguiente tabla.</span><span class="sxs-lookup"><span data-stu-id="3d46a-240">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="3d46a-241">No existe una GUI comparable para agregar o administrar reglas de autorización.</span><span class="sxs-lookup"><span data-stu-id="3d46a-241">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="3d46a-242">Para obtener más información sobre los cmdlets de Windows PowerShell Web Access, consulte los temas de referencia de cmdlet, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps) (Cmdlets de Windows PowerShell Web Access).</span><span class="sxs-lookup"><span data-stu-id="3d46a-242">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="3d46a-243">Para obtener más información sobre la seguridad y las reglas de autorización de Windows PowerShell Web Access, consulte [Reglas de autorización y características de seguridad de Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="3d46a-243">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-add-a-restrictive-authorization-rule"></a><span data-ttu-id="3d46a-244">Para agregar una regla de autorización restrictiva</span><span class="sxs-lookup"><span data-stu-id="3d46a-244">To add a restrictive authorization rule</span></span>

1. <span data-ttu-id="3d46a-245">Realice una de las siguientes acciones para abrir una sesión de Windows PowerShell con derechos de usuario elevados.</span><span class="sxs-lookup"><span data-stu-id="3d46a-245">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="3d46a-246">En el escritorio de Windows, haga clic con el botón derecho en **Windows PowerShell**, en la barra de tareas y, luego,en **Ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-246">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="3d46a-247">En la pantalla **Inicio** de Windows, haga clic con el botón derecho en **Windows PowerShell** y, luego, en **Ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-247">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

2. <span data-ttu-id="3d46a-248">Paso opcional para restringir el acceso de usuario con el uso de configuraciones de sesión: compruebe que las configuraciones de sesión que quiere usar en las reglas ya existen.</span><span class="sxs-lookup"><span data-stu-id="3d46a-248">Optional step for restricting user access by using session configurations: Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="3d46a-249">Si aún no se han creado, use las instrucciones para crear configuraciones de sesión proporcionadas en [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="3d46a-249">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

3. <span data-ttu-id="3d46a-250">Escriba lo siguiente y, después, presione **Entrar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-250">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="3d46a-251">Esta regla de autorización concede a un usuario específico acceso a un equipo de la red al que tiene acceso normalmente, con acceso a una configuración de sesión determinada en el ámbito de las necesidades de cmdlet y scripting típicas del usuario.</span><span class="sxs-lookup"><span data-stu-id="3d46a-251">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user's typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="3d46a-252">En el siguiente ejemplo, se concede acceso a un usuario llamado `JSmith` en el dominio `Contoso` para administrar el equipo `Contoso_214`y usar una configuración de sesión llamada `NewAdminsOnly`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-252">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName Contoso\JSmith -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

4. <span data-ttu-id="3d46a-253">Compruebe que la regla se haya creado mediante la ejecución del cmdlet `Get-PswaAuthorizationRule` o `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-253">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`</span></span>

   <span data-ttu-id="3d46a-254">Por ejemplo, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-254">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

<span data-ttu-id="3d46a-255">Después de configurar una regla de autorización, está listo para que los usuarios autorizados inicien sesión en la consola basada en web y empiecen a usar Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-255">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="custom-deployment"></a><span data-ttu-id="3d46a-256">Implementación personalizada</span><span class="sxs-lookup"><span data-stu-id="3d46a-256">Custom deployment</span></span>

<span data-ttu-id="3d46a-257">Puede instalar la puerta de enlace de Windows PowerShell Web Access en un servidor que ejecuta Windows Server 2012 R2 o Windows Server 2012 mediante el uso del Asistente para agregar roles y características en el Administrador del servidor.</span><span class="sxs-lookup"><span data-stu-id="3d46a-257">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using the Add Roles and Features Wizard in Server Manager.</span></span>
<span data-ttu-id="3d46a-258">Después de instalar Windows PowerShell Web Access, puede personalizar la configuración de la puerta de enlace en el Administrador de IIS.</span><span class="sxs-lookup"><span data-stu-id="3d46a-258">After Windows PowerShell Web Access is installed, you can customize the configuration of the gateway in IIS Manager.</span></span>

### <a name="install-windows-powershell-web-access-using-the-add-roles-and-features-wizard"></a><span data-ttu-id="3d46a-259">Instalación de Windows PowerShell Web Access mediante el Asistente para agregar roles y características</span><span class="sxs-lookup"><span data-stu-id="3d46a-259">Install Windows PowerShell Web Access using the Add Roles and Features Wizard</span></span>

1. <span data-ttu-id="3d46a-260">Si ya se ha abierto el Administrador del servidor, vaya al siguiente paso.</span><span class="sxs-lookup"><span data-stu-id="3d46a-260">If Server Manager is already open, go on to the next step.</span></span> <span data-ttu-id="3d46a-261">Si todavía no se ha abierto el Administrador del servidor, ábralo mediante una de las siguientes acciones.</span><span class="sxs-lookup"><span data-stu-id="3d46a-261">If Server Manager is not already open, open it by doing one of the following.</span></span>

   - <span data-ttu-id="3d46a-262">En el escritorio de Windows, haga clic en **Administrador del servidor** en la barra de tareas de Windows para iniciar el Administrador del servidor.</span><span class="sxs-lookup"><span data-stu-id="3d46a-262">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span>
   - <span data-ttu-id="3d46a-263">En la pantalla **Inicio** de Windows, haga clic en **Administrador del servidor**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-263">On the Windows **Start** screen, click **Server Manager**.</span></span>

2. <span data-ttu-id="3d46a-264">En el menú **Administrar**, haga clic en **Agregar roles y características**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-264">On the **Manage** menu, click **Add Roles and Features**.</span></span>

3. <span data-ttu-id="3d46a-265">En la página **Seleccionar tipo de instalación**, seleccione **Instalación basada en características o en roles**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-265">On the **Select installation type** page, select **Role-based or feature-based installation**.</span></span>
   <span data-ttu-id="3d46a-266">Haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-266">Click **Next**.</span></span>

4. <span data-ttu-id="3d46a-267">En la página **Seleccionar servidor de destino**, seleccione un servidor del grupo de servidores o un VHD sin conexión.</span><span class="sxs-lookup"><span data-stu-id="3d46a-267">On the **Select destination server** page, select a server from the server pool, or select an offline VHD.</span></span> <span data-ttu-id="3d46a-268">Para seleccionar un VHD sin conexión como servidor de destino, primero seleccione el servidor en el que montará el VHD y, a continuación, seleccione el archivo VHD.</span><span class="sxs-lookup"><span data-stu-id="3d46a-268">To select an offline VHD as your destination server, first select the server on which to mount the VHD, and then select the VHD file.</span></span> <span data-ttu-id="3d46a-269">Para obtener información sobre cómo agregar servidores al grupo de servidores, consulte la Ayuda del Administrador del servidor.</span><span class="sxs-lookup"><span data-stu-id="3d46a-269">For information about how to add servers to your server pool, see the Server Manager Help.</span></span> <span data-ttu-id="3d46a-270">Una vez seleccionado el servidor de destino, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-270">After you have selected the destination server, click **Next**.</span></span>

5. <span data-ttu-id="3d46a-271">En la página **Seleccionar características** del asistente, expanda **Windows PowerShell** y seleccione **Windows PowerShell Web Access**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-271">On the **Select features** page of the wizard, expand **Windows PowerShell**, and then select **Windows PowerShell Web Access**.</span></span>

6. <span data-ttu-id="3d46a-272">Se le pedirá que agregue las características necesarias, como .NET Framework 4.5 y los servicios de rol de Servidor web (IIS).</span><span class="sxs-lookup"><span data-stu-id="3d46a-272">Note that you are prompted to add required features, such as .NET Framework 4.5, and role services of Web Server (IIS).</span></span> <span data-ttu-id="3d46a-273">Agregue las características necesarias y continúe.</span><span class="sxs-lookup"><span data-stu-id="3d46a-273">Add required features and continue.</span></span>

   > [!NOTE]
   > <span data-ttu-id="3d46a-274">Al instalar Windows PowerShell Web Access mediante el uso del Asistente para agregar roles y características también se instala Servidor web (IIS), incluido el complemento Administrador de IIS.</span><span class="sxs-lookup"><span data-stu-id="3d46a-274">Installing Windows PowerShell Web Access by using the Add Roles and Features Wizard also installs Web Server (IIS), including the IIS Manager snap-in.</span></span> <span data-ttu-id="3d46a-275">El complemento y otras herramientas de administración de IIS se instalan de manera predeterminada si usa el Asistente para agregar roles y características.</span><span class="sxs-lookup"><span data-stu-id="3d46a-275">The snap-in and other IIS management tools are installed by default if you use Add Roles and Features Wizard.</span></span> <span data-ttu-id="3d46a-276">Si instala Windows PowerShell Web Access mediante cmdlets de Windows PowerShell, como se describe en el siguiente procedimiento, las herramientas de administración no se agregan de manera predeterminada.</span><span class="sxs-lookup"><span data-stu-id="3d46a-276">If you install Windows PowerShell Web Access by using Windows PowerShell cmdlets as described in the following procedure, management tools are not added by default.</span></span>

7. <span data-ttu-id="3d46a-277">En la página **Confirmar selecciones de instalación**, si los archivos de características para Windows PowerShell Web Access no están almacenados en el servidor de destino seleccionado en el paso 4, haga clic en **Especifique una ruta de acceso de origen alternativa** y proporcione la ruta de acceso a los archivos de características.</span><span class="sxs-lookup"><span data-stu-id="3d46a-277">On the **Confirm installation selections** page, if the feature files for Windows PowerShell Web Access are not stored on the destination server that you selected in step 4, click **Specify an alternate source path**, and provide the path to the feature files.</span></span> <span data-ttu-id="3d46a-278">De lo contrario, haga clic en **Instalar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-278">Otherwise, click **Install**.</span></span>

8. <span data-ttu-id="3d46a-279">Después de hacer clic en **Instalar**, la página **Progreso de la instalación** mostrará el progreso de la instalación, los resultados y diferentes mensajes, como advertencias, errores o los pasos de configuración posteriores a la instalación necesarios para Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-279">After you click **Install**, the **Installation progress** page displays installation progress, results, and messages such as warnings, failures, or post-installation configuration steps that are required for Windows PowerShell Web Access.</span></span> <span data-ttu-id="3d46a-280">Una vez instalado Windows PowerShell Web Access, se le pedirá que revise el archivo Léame, que contiene las instrucciones de configuración necesarias básicas para la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="3d46a-280">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="3d46a-281">Estas instrucciones también se incluyen en este tema.</span><span class="sxs-lookup"><span data-stu-id="3d46a-281">These instructions are also included in this topic.</span></span> <span data-ttu-id="3d46a-282">La ruta de acceso al archivo Léame es `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-282">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="3d46a-283">Configuración de la puerta de enlace</span><span class="sxs-lookup"><span data-stu-id="3d46a-283">Configure the gateway</span></span>

<span data-ttu-id="3d46a-284">Las instrucciones de esta sección explican cómo instalar la aplicación web Windows PowerShell Web Access en un subdirectorio del sitio web, no en el directorio raíz.</span><span class="sxs-lookup"><span data-stu-id="3d46a-284">Instructions in this section are for installing the Windows PowerShell Web Access web application in a subdirectory and not in the root directory of your website.</span></span> <span data-ttu-id="3d46a-285">Este procedimiento es el equivalente basado en GUI de las acciones realizadas por el cmdlet `Install-PswaWebApplication` .</span><span class="sxs-lookup"><span data-stu-id="3d46a-285">This procedure is the GUI-based equivalent of the actions performed by the `Install-PswaWebApplication` cmdlet.</span></span> <span data-ttu-id="3d46a-286">En esta sección, también se incluyen instrucciones sobre cómo usar el Administrador de IIS para configurar la puerta de enlace de Windows PowerShell Web Access como un sitio web raíz.</span><span class="sxs-lookup"><span data-stu-id="3d46a-286">This section also includes instructions for how to use IIS Manager to configure the Windows PowerShell Web Access gateway as a root website.</span></span>

#### <a name="to-use-iis-manager-to-configure-the-gateway-in-an-existing-website"></a><span data-ttu-id="3d46a-287">Para usar el Administrador de IIS para configurar la puerta de enlace en un sitio web existente</span><span class="sxs-lookup"><span data-stu-id="3d46a-287">To use IIS Manager to configure the gateway in an existing website</span></span>

1. <span data-ttu-id="3d46a-288">Abra la consola del Administrador de IIS mediante uno de los siguientes procedimientos.</span><span class="sxs-lookup"><span data-stu-id="3d46a-288">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="3d46a-289">En el escritorio de Windows, haga clic en **Administrador del servidor** en la barra de tareas de Windows para iniciar el Administrador del servidor.</span><span class="sxs-lookup"><span data-stu-id="3d46a-289">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="3d46a-290">En el menú **Herramientas** del Administrador del servidor, haga clic en **Administrador de Internet Information Services (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="3d46a-290">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="3d46a-291">En la pantalla **Inicio** de Windows, escriba cualquier parte del nombre **Administrador de Internet Information Services (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="3d46a-291">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="3d46a-292">Haga clic en el acceso directo cuando se muestre en los resultados de **Aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-292">Click the shortcut when it is displayed in the **Apps** results.</span></span>

2. <span data-ttu-id="3d46a-293">Cree un nuevo grupo de aplicaciones para Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-293">Create a new application pool for Windows PowerShell Web Access.</span></span> <span data-ttu-id="3d46a-294">Expanda el nodo del servidor de puerta de enlace en el panel del árbol del Administrador de IIS, seleccione **Grupos de aplicaciones** y haga clic en **Agregar grupo de aplicaciones** en el panel **Acciones**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-294">Expand the node of the gateway server in the IIS Manager tree pane, select **Application Pools**, and click **Add Application Pool** in the **Actions** pane.</span></span>

3. <span data-ttu-id="3d46a-295">Agregue un nuevo grupo de aplicaciones con el nombre **pswa_pool** o proporcione otro nombre.</span><span class="sxs-lookup"><span data-stu-id="3d46a-295">Add a new application pool with the name **pswa_pool**, or provide another name.</span></span> <span data-ttu-id="3d46a-296">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-296">Click **OK**.</span></span>

4. <span data-ttu-id="3d46a-297">En el panel del árbol del Administrador de IIS, expanda el nodo del servidor en el que está instalado Windows PowerShell Web Access hasta que aparezca la carpeta **Sitios**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-297">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="3d46a-298">Seleccione la carpeta **Sitios**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-298">Select the **Sites** folder.</span></span>

5. <span data-ttu-id="3d46a-299">Haga clic con el botón derecho en el sitio web (por ejemplo, **Sitio web predeterminado**) en el que quiere agregar el sitio web de Windows PowerShell Web Access y, después, haga clic en **Agregar aplicación**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-299">Right-click the website (for example, **Default Web Site**) to which you would like to add the Windows PowerShell Web Access website, and then click **Add Application**.</span></span>

6. <span data-ttu-id="3d46a-300">En el campo **Alias**, escriba pswa o proporcione un alias diferente.</span><span class="sxs-lookup"><span data-stu-id="3d46a-300">In the **Alias** field, type pswa, or provide another alias.</span></span> <span data-ttu-id="3d46a-301">El alias se convierte en el nombre de directorio virtual.</span><span class="sxs-lookup"><span data-stu-id="3d46a-301">The alias becomes the virtual directory name.</span></span> <span data-ttu-id="3d46a-302">Por ejemplo, **pswa** en la dirección URL siguiente representa el alias especificado en este paso: `https://<server-name>/pswa`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-302">For example, **pswa** in the following URL represents the alias specified in this step: `https://<server-name>/pswa`.</span></span>

7. <span data-ttu-id="3d46a-303">En el campo **Grupo de aplicaciones**, seleccione el grupo de aplicaciones creado en el paso 3.</span><span class="sxs-lookup"><span data-stu-id="3d46a-303">In the **Application pool** field, select the application pool that you created in step 3.</span></span>

8. <span data-ttu-id="3d46a-304">En el campo **Ruta de acceso física**, busque la ubicación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3d46a-304">In the **Physical path** field, browse for the location of the application.</span></span> <span data-ttu-id="3d46a-305">Puede usar la ubicación predeterminada, `$env:windir/Web/PowerShellWebAccess/wwwroot`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-305">You can use the default location, `$env:windir/Web/PowerShellWebAccess/wwwroot`.</span></span> <span data-ttu-id="3d46a-306">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-306">Click **OK**.</span></span>

9. <span data-ttu-id="3d46a-307">Siga los pasos del procedimiento [Para configurar un certificado SSL en el Administrador de IIS](#to-configure-an-ssl-certificate-in-iis-manager) en este tema.</span><span class="sxs-lookup"><span data-stu-id="3d46a-307">Follow the steps in the procedure [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic.</span></span>

10. ![Nota de seguridad](images/SecurityNote.jpeg) <span data-ttu-id="3d46a-309">Paso de seguridad opcional:</span><span class="sxs-lookup"><span data-stu-id="3d46a-309">Optional security step:</span></span>

    <span data-ttu-id="3d46a-310">Con el sitio web seleccionado en el panel del árbol, haga doble clic en **Configuración de SSL** en el panel de contenido.</span><span class="sxs-lookup"><span data-stu-id="3d46a-310">With the website selected in the tree pane, double-click **SSL Settings** in the content pane.</span></span>
    <span data-ttu-id="3d46a-311">Seleccione **Requerir SSL** y, a continuación, en el panel **Acciones**, haga clic en **Aplicar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-311">Select **Require SSL**, and then in the **Actions** pane, click **Apply**.</span></span> <span data-ttu-id="3d46a-312">De forma opcional, en el panel **Configuración de SSL**, puede requerir que los usuarios que se conecten al sitio web de Windows PowerShell Web Access tengan certificados de cliente.</span><span class="sxs-lookup"><span data-stu-id="3d46a-312">Optionally, in the **SSL Settings** pane, you can require that users connecting to the Windows PowerShell Web Access website have client certificates.</span></span> <span data-ttu-id="3d46a-313">Los certificados de cliente ayudan a comprobar la identidad de un usuario del dispositivo cliente.</span><span class="sxs-lookup"><span data-stu-id="3d46a-313">Client certificates help to verify the identity of a client device user.</span></span> <span data-ttu-id="3d46a-314">Para más información sobre el modo en que se puede incrementar la seguridad de Windows PowerShell Web Access al requerir certificados de cliente, consulte [Reglas de autorización y características de seguridad de Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md) en esta guía.</span><span class="sxs-lookup"><span data-stu-id="3d46a-314">For more information about how requiring client certificates can increase the security of Windows PowerShell Web Access, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md) in this guide.</span></span>

11. <span data-ttu-id="3d46a-315">Abra una sesión del explorador en un dispositivo cliente.</span><span class="sxs-lookup"><span data-stu-id="3d46a-315">Open a browser session on a client device.</span></span> <span data-ttu-id="3d46a-316">Para más información sobre los dispositivos y exploradores admitidos, consulte [Compatibilidad con exploradores y dispositivos cliente](#browser-and-client-device-support) en este tema.</span><span class="sxs-lookup"><span data-stu-id="3d46a-316">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this topic.</span></span>

12. <span data-ttu-id="3d46a-317">Abra el nuevo sitio web de Windows PowerShell Web Access, **https://\<*nombre-servidor-puerta-enlace*\>/pswa**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-317">Open the new Windows PowerShell Web Access website, **https://\<*gateway-server-name*\>/pswa**.</span></span>

    <span data-ttu-id="3d46a-318">El explorador debe mostrar la página de inicio de sesión de la consola de Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-318">The browser should display the Windows PowerShell Web Access console sign-in page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="3d46a-319">No podrá iniciar sesión hasta que se haya concedido a los usuarios acceso al sitio web mediante la adición de reglas de autorización.</span><span class="sxs-lookup"><span data-stu-id="3d46a-319">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="3d46a-320">Para más información, vea [Configurar una regla de autorización restrictiva](#configure-a-restrictive-authorization-rule) en este tema y [Reglas de autorización y características de seguridad de Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="3d46a-320">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

13. <span data-ttu-id="3d46a-321">En una sesión de Windows PowerShell abierta con derechos de usuario elevados (Ejecutar como administrador), ejecute el siguiente script, en el que *application_pool_name* representa el nombre del grupo de aplicaciones creado en el paso 3, para conceder al grupo de aplicaciones derechos de acceso en el archivo de autorización.</span><span class="sxs-lookup"><span data-stu-id="3d46a-321">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which *application_pool_name* represents the name of the application pool that you created in step 3, to give the application pool access rights to the authorization file.</span></span>

    ```powershell
    $applicationPoolName = "<application_pool_name>"
    $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
    c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
    ```

    <span data-ttu-id="3d46a-322">Para ver los derechos de acceso existentes en el archivo de autorización, ejecute el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="3d46a-322">To view existing access rights on the authorization file, run the following command:</span></span>

    ```powershell
    c:\windows\system32\icacls.exe $authorizationFile
    ```

#### <a name="to-use-iis-manager-to-configure-the-gateway-as-a-root-website-with-a-test-certificate"></a><span data-ttu-id="3d46a-323">Para usar el Administrador de IIS para configurar la puerta de enlace como sitio web raíz con un certificado de prueba</span><span class="sxs-lookup"><span data-stu-id="3d46a-323">To use IIS Manager to configure the gateway as a root website with a test certificate</span></span>

1. <span data-ttu-id="3d46a-324">Abra la consola del Administrador de IIS mediante uno de los siguientes procedimientos.</span><span class="sxs-lookup"><span data-stu-id="3d46a-324">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="3d46a-325">En el escritorio de Windows, haga clic en **Administrador del servidor** en la barra de tareas de Windows para iniciar el Administrador del servidor.</span><span class="sxs-lookup"><span data-stu-id="3d46a-325">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="3d46a-326">En el menú **Herramientas** del Administrador del servidor, haga clic en **Administrador de Internet Information Services (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="3d46a-326">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="3d46a-327">En la pantalla **Inicio** de Windows, escriba cualquier parte del nombre **Administrador de Internet Information Services (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="3d46a-327">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="3d46a-328">Haga clic en el acceso directo cuando se muestre en los resultados de **Aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-328">Click the shortcut when it is displayed in the **Apps** results.</span></span>

1. <span data-ttu-id="3d46a-329">En el panel del árbol del Administrador de IIS, expanda el nodo del servidor en el que está instalado Windows PowerShell Web Access hasta que aparezca la carpeta **Sitios**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-329">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="3d46a-330">Seleccione la carpeta **Sitios**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-330">Select the **Sites** folder.</span></span>

1. <span data-ttu-id="3d46a-331">En el panel **Acciones**, haga clic en **Agregar sitio web**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-331">In the **Actions** pane, click **Add Website**.</span></span>

1. <span data-ttu-id="3d46a-332">Escriba un nombre para el sitio web, como **Windows PowerShell Web Access**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-332">Type a name for the website, such as **Windows PowerShell Web Access**.</span></span>

1. <span data-ttu-id="3d46a-333">Se creará automáticamente un grupo de aplicaciones para el nuevo sitio web.</span><span class="sxs-lookup"><span data-stu-id="3d46a-333">An application pool is automatically created for the new website.</span></span> <span data-ttu-id="3d46a-334">Para usar un grupo de aplicaciones diferente, haga clic en **Seleccionar** para seleccionar un grupo de aplicaciones a fin de asociarlo con el nuevo sitio web.</span><span class="sxs-lookup"><span data-stu-id="3d46a-334">To use a different application pool, click **Select** to select an application pool to associate with the new website.</span></span> <span data-ttu-id="3d46a-335">Seleccione el grupo de aplicaciones alternativo en el cuadro de diálogo **Seleccionar grupo de aplicaciones** y, después, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-335">Select the alternate application pool in the **Select Application Pool** dialog box, and then click **OK**.</span></span>

1. <span data-ttu-id="3d46a-336">En el cuadro de texto **Ruta de acceso física**, vaya a %windir%/Web/PowerShellWebAccess/wwwroot.</span><span class="sxs-lookup"><span data-stu-id="3d46a-336">In the **Physical path** text box, navigate to %windir%/Web/PowerShellWebAccess/wwwroot.</span></span>

1. <span data-ttu-id="3d46a-337">En el campo **Tipo** del área **Enlace**, seleccione **https**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-337">In the **Type** field of the **Binding** area, select **https**.</span></span>

1. <span data-ttu-id="3d46a-338">Asigne al sitio web un número de puerto que no esté en uso por otro sitio o aplicación.</span><span class="sxs-lookup"><span data-stu-id="3d46a-338">Assign a port number to the website that is not already in use by another site or application.</span></span>
   <span data-ttu-id="3d46a-339">Para encontrar puertos abiertos, puede ejecutar el comando **netstat** en una ventana del símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="3d46a-339">To locate open ports, you can run the **netstat** command in a Command Prompt window.</span></span> <span data-ttu-id="3d46a-340">El número de puerto predeterminado es 443.</span><span class="sxs-lookup"><span data-stu-id="3d46a-340">The default port number is 443.</span></span>

   <span data-ttu-id="3d46a-341">Cambie el puerto predeterminado si otro sitio web ya está usando el 443 o por algún otro motivo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="3d46a-341">Change the default port if another website is already using 443, or if you have other security reasons for changing the port number.</span></span> <span data-ttu-id="3d46a-342">Si otro sitio web que se ejecuta en el servidor de puerta de enlace está usando el puerto seleccionado, se mostrará una advertencia cuando haga clic en **Aceptar** en el cuadro de diálogo **Agregar sitio web**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-342">If another website that is running on your gateway server is using your selected port, a warning is displayed when you click **OK** in the **Add Website** dialog box.</span></span> <span data-ttu-id="3d46a-343">Debe usar un puerto que no esté en uso para ejecutar Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-343">You must use an unused port to run Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="3d46a-344">De forma opcional, si es necesario en su organización, especifique un nombre de host que tenga sentido para la organización y los usuarios, como **`www.contoso.com`** .</span><span class="sxs-lookup"><span data-stu-id="3d46a-344">Optionally, if needed for your organization, specify a host name that makes sense to your organization and users, such as **`www.contoso.com`**.</span></span> <span data-ttu-id="3d46a-345">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-345">Click **OK**.</span></span>

1. <span data-ttu-id="3d46a-346">En un entorno de producción más seguro, se recomienda encarecidamente proporcionar un certificado válido firmado por una CA.</span><span class="sxs-lookup"><span data-stu-id="3d46a-346">For a more secure production environment, we strongly recommend providing a valid certificate that has been signed by a CA.</span></span> <span data-ttu-id="3d46a-347">Debe proporcionar un certificado SSL, porque los usuarios solo se pueden conectar a Windows PowerShell Web Access a través de un sitio web HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3d46a-347">You must provide an SSL certificate, because users can only connect to Windows PowerShell Web Access through an HTTPS website.</span></span> <span data-ttu-id="3d46a-348">Consulte [Para configurar un certificado SSL en el Administrador de IIS](#to-configure-an-ssl-certificate-in-iis-manager) en este tema para obtener más información sobre cómo obtener un certificado.</span><span class="sxs-lookup"><span data-stu-id="3d46a-348">See [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic for more information about how to obtain a certificate.</span></span>

1. <span data-ttu-id="3d46a-349">Haga clic en **Aceptar** para cerrar el cuadro de diálogo **Agregar sitio web**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-349">Click **OK** to close the **Add Website** dialog box.</span></span>

1. <span data-ttu-id="3d46a-350">En una sesión de Windows PowerShell abierta con derechos de usuario elevados (Ejecutar como administrador), ejecute el siguiente script, en el que _application_pool_name_ representa el nombre del grupo de aplicaciones creado en el paso 4, para conceder al grupo de aplicaciones derechos de acceso en el archivo de autorización.</span><span class="sxs-lookup"><span data-stu-id="3d46a-350">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which _application_pool_name_ represents the name of the application pool that you created in step 4, to give the application pool access rights to the authorization file.</span></span>

   ```powershell
   $applicationPoolName = "<application_pool_name>"
   $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
   c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
   ```

   <span data-ttu-id="3d46a-351">Para ver los derechos de acceso existentes en el archivo de autorización, ejecute el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="3d46a-351">To view existing access rights on the authorization file, run the following command:</span></span>

   ```powershell
   c:\windows\system32\icacls.exe $authorizationFile
   ```

1. <span data-ttu-id="3d46a-352">Con el nuevo sitio web seleccionado en el panel del árbol del Administrador de IIS, haga clic en **Inicio** en el panel **Acciones** para iniciar el sitio web.</span><span class="sxs-lookup"><span data-stu-id="3d46a-352">With the new website selected in the IIS Manager tree pane, click **Start** in the **Actions** pane to start the website.</span></span>

1. <span data-ttu-id="3d46a-353">Abra una sesión del explorador en un dispositivo cliente.</span><span class="sxs-lookup"><span data-stu-id="3d46a-353">Open a browser session on a client device.</span></span> <span data-ttu-id="3d46a-354">Para más información sobre los dispositivos y exploradores admitidos, consulte [Compatibilidad con exploradores y dispositivos cliente](#browser-and-client-device-support) en este documento.</span><span class="sxs-lookup"><span data-stu-id="3d46a-354">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this document.</span></span>

1. <span data-ttu-id="3d46a-355">Abra el nuevo sitio web de Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-355">Open the new Windows PowerShell Web Access website.</span></span>

   <span data-ttu-id="3d46a-356">Como el sitio web raíz apunta a la carpeta Windows PowerShell Web Access, el explorador debería mostrar la página de inicio de sesión de Windows PowerShell Web Access cuando abra `https://<gateway_server_name>`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-356">Because the root website points to the Windows PowerShell Web Access folder, the browser should display the Windows PowerShell Web Access sign-in page when you open `https://<gateway_server_name>`.</span></span> <span data-ttu-id="3d46a-357">No será necesario que agregue **/pswa** a la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="3d46a-357">You should not need to add **/pswa** to the URL.</span></span>

   > [!NOTE]
   > <span data-ttu-id="3d46a-358">No podrá iniciar sesión hasta que se haya concedido a los usuarios acceso al sitio web mediante la adición de reglas de autorización.</span><span class="sxs-lookup"><span data-stu-id="3d46a-358">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="3d46a-359">Para más información, vea [Configurar una regla de autorización restrictiva](#configure-a-restrictive-authorization-rule) en este tema y [Reglas de autorización y características de seguridad de Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="3d46a-359">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configuring-a-restrictive-authorization-rule"></a><span data-ttu-id="3d46a-360">Configuración de una regla de autorización restrictiva</span><span class="sxs-lookup"><span data-stu-id="3d46a-360">Configuring a restrictive authorization rule</span></span>

<span data-ttu-id="3d46a-361">Una vez instalado Windows PowerShell Web Access y configurada la puerta de enlace, los usuarios podrán abrir la página de inicio de sesión en un explorador, pero no podrán iniciar sesión hasta que el administrador de Windows PowerShell Web Access les conceda acceso de manera explícita.</span><span class="sxs-lookup"><span data-stu-id="3d46a-361">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="3d46a-362">El control de acceso de Windows PowerShell Web Access se administra mediante el conjunto de cmdlets de Windows PowerShell descrito en la siguiente tabla.</span><span class="sxs-lookup"><span data-stu-id="3d46a-362">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="3d46a-363">No existe una GUI comparable para agregar o administrar reglas de autorización.</span><span class="sxs-lookup"><span data-stu-id="3d46a-363">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="3d46a-364">Para obtener más información sobre los cmdlets de Windows PowerShell Web Access, consulte los temas de referencia de cmdlet, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps) (Cmdlets de Windows PowerShell Web Access).</span><span class="sxs-lookup"><span data-stu-id="3d46a-364">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="3d46a-365">Para obtener más información sobre la seguridad y las reglas de autorización de Windows PowerShell Web Access, consulte [Reglas de autorización y características de seguridad de Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="3d46a-365">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="adding-a-restrictive-authorization-rule"></a><span data-ttu-id="3d46a-366">Adición de una regla de autorización restrictiva</span><span class="sxs-lookup"><span data-stu-id="3d46a-366">Adding a restrictive authorization rule</span></span>

1. <span data-ttu-id="3d46a-367">Realice una de las siguientes acciones para abrir una sesión de Windows PowerShell con derechos de usuario elevados.</span><span class="sxs-lookup"><span data-stu-id="3d46a-367">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="3d46a-368">En el escritorio de Windows, haga clic con el botón derecho en **Windows PowerShell**, en la barra de tareas y, luego,en **Ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-368">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="3d46a-369">En la pantalla **Inicio** de Windows, haga clic con el botón derecho en **Windows PowerShell** y, luego, en **Ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-369">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

1. ![Nota de seguridad](images/SecurityNote.jpeg) <span data-ttu-id="3d46a-371">Paso opcional para restringir el acceso de usuario con el uso de configuraciones de sesión:</span><span class="sxs-lookup"><span data-stu-id="3d46a-371">Optional step for restricting user access by using session configurations:</span></span>

   <span data-ttu-id="3d46a-372">compruebe que las configuraciones de sesión que quiere usar en las reglas ya existen.</span><span class="sxs-lookup"><span data-stu-id="3d46a-372">Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="3d46a-373">Si aún no se han creado, use las instrucciones para crear configuraciones de sesión proporcionadas en [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="3d46a-373">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

1. <span data-ttu-id="3d46a-374">Escriba lo siguiente y, después, presione **Entrar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-374">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="3d46a-375">Esta regla de autorización concede a un usuario específico acceso a un equipo de la red al que tiene acceso normalmente, con acceso a una configuración de sesión determinada en el ámbito de las necesidades de cmdlet y scripting típicas del usuario.</span><span class="sxs-lookup"><span data-stu-id="3d46a-375">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user'™s typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="3d46a-376">En el siguiente ejemplo, se concede acceso a un usuario llamado `JSmith` en el dominio `Contoso` para administrar el equipo `Contoso_214`y usar una configuración de sesión llamada `NewAdminsOnly`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-376">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

1. <span data-ttu-id="3d46a-377">Compruebe que la regla se haya creado mediante la ejecución del cmdlet `Get-PswaAuthorizationRule` o `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-377">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span></span>

   <span data-ttu-id="3d46a-378">Por ejemplo, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-378">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

   <span data-ttu-id="3d46a-379">Después de configurar una regla de autorización, está listo para que los usuarios autorizados inicien sesión en la consola basada en web y empiecen a usar Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-379">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="configure-a-genuine-certificate"></a><span data-ttu-id="3d46a-380">Configurar un certificado original</span><span class="sxs-lookup"><span data-stu-id="3d46a-380">Configure a genuine certificate</span></span>

<span data-ttu-id="3d46a-381">Para un entorno de producción seguro, se recomienda usar un certificado SSL válido firmado por una entidad de certificación (CA).</span><span class="sxs-lookup"><span data-stu-id="3d46a-381">For a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="3d46a-382">En el procedimiento descrito en esta sección se explica cómo obtener y aplicar un certificado SSL válido de una CA.</span><span class="sxs-lookup"><span data-stu-id="3d46a-382">The procedure in this section describes how to obtain and apply a valid SSL certificate from a CA.</span></span>

### <a name="to-configure-an-ssl-certificate-in-iis-manager"></a><span data-ttu-id="3d46a-383">Para configurar un certificado SSL en el Administrador de IIS</span><span class="sxs-lookup"><span data-stu-id="3d46a-383">To configure an SSL certificate in IIS Manager</span></span>

1. <span data-ttu-id="3d46a-384">En el panel del árbol del Administrador de IIS, seleccione el servidor en el que está instalado Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="3d46a-384">In the IIS Manager tree pane, select the server on which Windows PowerShell Web Access is installed.</span></span>

1. <span data-ttu-id="3d46a-385">En el panel de contenido, haga doble clic en **Certificados de servidor**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-385">In the content pane, double click **Server Certificates**.</span></span>

1. <span data-ttu-id="3d46a-386">En el panel **Acciones**, realice una de las acciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="3d46a-386">In the **Actions** pane, do one of the following.</span></span> <span data-ttu-id="3d46a-387">Para obtener más información sobre la configuración de certificados de servidor en IIS, consulte [Configurar certificados de servidor en IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="3d46a-387">For more information about configuring server certificates in IIS, see [Configuring Server Certificates in IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span></span>

   - <span data-ttu-id="3d46a-388">Haga clic en **Importar** para importar un certificado válido existente desde una ubicación de la red.</span><span class="sxs-lookup"><span data-stu-id="3d46a-388">Click **Import** to import an existing, valid certificate from a location on your network.</span></span>
   - <span data-ttu-id="3d46a-389">Haga clic en **Crear una solicitud de certificado** para solicitar un certificado de una entidad de certificación como [VeriSign](https://www.verisign.com/), [Thawte](https://www.thawte.com/) o [GeoTrust](https://www.geotrust.com/).</span><span class="sxs-lookup"><span data-stu-id="3d46a-389">Click **Create Certificate Request** to request a certificate from a CA such as [VeriSign](https://www.verisign.com/), [Thawte](https://www.thawte.com/), or [GeoTrust](https://www.geotrust.com/).</span></span> <span data-ttu-id="3d46a-390">El nombre común del certificado debe coincidir con el encabezado host de la solicitud.</span><span class="sxs-lookup"><span data-stu-id="3d46a-390">The certificate's common name must match the host header in the request.</span></span>

     <span data-ttu-id="3d46a-391">Por ejemplo, si el explorador del cliente solicita `http://www.contoso.com/`, el nombre común también deberá ser `http://www.contoso.com/`.</span><span class="sxs-lookup"><span data-stu-id="3d46a-391">For example, if the client browser requests `http://www.contoso.com/`, then the common name must also be `http://www.contoso.com/`.</span></span> <span data-ttu-id="3d46a-392">Esta es la opción más segura y recomendada para proporcionar la puerta de enlace de Windows PowerShell Web Access con un certificado.</span><span class="sxs-lookup"><span data-stu-id="3d46a-392">This is the most secure and recommended option for providing the Windows PowerShell Web Access gateway with a certificate.</span></span>

   - <span data-ttu-id="3d46a-393">Haga clic en **Crear un certificado autofirmado** para crear un certificado para usarlo inmediatamente y, más tarde, hágalo firmar por una CA, si lo desea.</span><span class="sxs-lookup"><span data-stu-id="3d46a-393">Click **Create a Self-Signed Certificate** to create a certificate that you can use immediately, and have signed later by a CA if desired.</span></span> <span data-ttu-id="3d46a-394">Especifique un nombre descriptivo para el certificado autofirmado, como **Windows PowerShell Web Access**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-394">Specify a friendly name for the self-signed certificate, such as **Windows PowerShell Web Access**.</span></span> <span data-ttu-id="3d46a-395">Esta opción no se considera segura y solo se recomienda para un entorno de prueba privado.</span><span class="sxs-lookup"><span data-stu-id="3d46a-395">This option is not considered secure, and is recommended only for a private test environment.</span></span>

1. <span data-ttu-id="3d46a-396">Una vez creado u obtenido el certificado, seleccione el sitio web al que se aplicará (por ejemplo, **Sitio web predeterminado**) en el panel del árbol del Administrador de IIS y, a continuación, haga clic en **Enlaces** en el panel **Acciones**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-396">After creating or obtaining a certificate, select the website to which the certificate is applied (for example, **Default Web Site**) in the IIS Manager tree pane, and then click **Bindings** in the **Actions** pane.</span></span>

1. <span data-ttu-id="3d46a-397">En el cuadro de diálogo **Agregar enlace de sitio**, agregue un enlace **https** para el sitio, si aún no se muestra ninguno.</span><span class="sxs-lookup"><span data-stu-id="3d46a-397">In the **Add Site Binding** dialog box, add an **https** binding for the site, if one is not already displayed.</span></span> <span data-ttu-id="3d46a-398">Si no usa un certificado autofirmado, especifique el nombre de host del paso 3 de este procedimiento.</span><span class="sxs-lookup"><span data-stu-id="3d46a-398">If you are not using a self-signed certificate, specify the host name from step 3 of this procedure.</span></span> <span data-ttu-id="3d46a-399">Si usa un certificado autofirmado, este paso no es necesario.</span><span class="sxs-lookup"><span data-stu-id="3d46a-399">If you are using a self-signed certificate, this step is not required.</span></span>

1. <span data-ttu-id="3d46a-400">Seleccione el certificado obtenido o creado en el paso 3 de este procedimiento y, después, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="3d46a-400">Select the certificate that you obtained or created in step 3 of this procedure, and then click **OK**.</span></span>

## <a name="using-the-web-based-windows-powershell-console"></a><span data-ttu-id="3d46a-401">Uso de la consola de Windows PowerShell basada en web</span><span class="sxs-lookup"><span data-stu-id="3d46a-401">Using the web-based Windows PowerShell console</span></span>

<span data-ttu-id="3d46a-402">Una vez instalado Windows PowerShell Web Access y configurada la puerta de enlace como se describe en este tema, la consola de Windows PowerShell basada en web estará lista para usarse.</span><span class="sxs-lookup"><span data-stu-id="3d46a-402">After Windows PowerShell Web Access is installed and the gateway configuration is finished as described in this topic, the Windows PowerShell web-based console is ready to use.</span></span> <span data-ttu-id="3d46a-403">Para obtener más información sobre la introducción a la consola basada en web, consulte [Uso de la consola de Windows PowerShell basada en web](use-the-web-based-windows-powershell-console.md).</span><span class="sxs-lookup"><span data-stu-id="3d46a-403">For more information about getting started in the web-based console, see [Use the Web-based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="3d46a-404">Véase también</span><span class="sxs-lookup"><span data-stu-id="3d46a-404">See Also</span></span>

<span data-ttu-id="3d46a-405">[Documentación de Internet Information Services (IIS) 7.0](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="3d46a-405">[Internet Information Services (IIS) 7.0 Documentation](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span></span>

<span data-ttu-id="3d46a-406">[Ayuda del Administrador de IIS 7.0](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span><span class="sxs-lookup"><span data-stu-id="3d46a-406">[IIS Manager 7.0 Help](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span></span>

<span data-ttu-id="3d46a-407">[Configurar la seguridad de Servidor web (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="3d46a-407">[Configure Web Server Security (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span></span>

<span data-ttu-id="3d46a-408">[Recursos de implementación de IPsec](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="3d46a-408">[IPsec Deployment Resources](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span></span>
